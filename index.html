<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ImpactMojo 101 Knowledge Series - Development Education for South Asia</title>
  <meta name="description" content="Curated library of development education courses covering justice, equity, and development practice in India and South Asia. Free, theory-grounded, context-applied knowledge decks.">
  <meta name="keywords" content="development education, South Asia, India, social justice, data feminism, development economics, public policy">
  <meta name="author" content="Dr. Varna Sri Raman">
  
  <!-- Enhanced Open Graph tags -->
  <meta property="og:title" content="ImpactMojo 101 Knowledge Series - Free Development Education">
  <meta property="og:description" content="Free development education courses for India and South Asia. 32+ comprehensive courses covering data analysis, gender studies, economics, climate change and more.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.impactmojo.in">
  <meta property="og:image" content="https://www.impactmojo.in/assets/images/impactmojo-banner.jpg">
  <meta property="og:site_name" content="ImpactMojo">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ImpactMojo 101 Knowledge Series">
  <meta name="twitter:description" content="Free development education courses for India and South Asia">
  <meta name="twitter:image" content="https://www.impactmojo.in/assets/images/impactmojo-banner.jpg">
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Link to your existing styles.css -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <header>
    <nav class="container">
      <a href="#" class="logo">ImpactMojo</a>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#courses">Courses</a></li>
        <li><a href="#labs">Labs</a></li>
        <li><a href="#about">About</a></li>
      </ul>
      <div class="auth-buttons" id="authButtons">
        <button class="auth-btn" onclick="showLoginModal()">Login</button>
        <button class="auth-btn signup" onclick="showSignupModal()">Sign Up</button>
      </div>
      <!-- User menu - shown when logged in -->
      <div class="user-menu" id="userMenu" style="display: none;">
        <div class="user-info">
          <img id="userAvatar" src="" alt="User Avatar" class="user-avatar">
          <span id="userName" class="user-name">User</span>
        </div>
      </div>
    </nav>
  </header>

  <main id="main-content">
    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="container">
        <h1>ImpactMojo 101 Knowledge Series</h1>
        <p class="subtitle">Development Education for South Asia</p>
        <p class="description">ImpactMojo is a curated library of full-length knowledge decks that explore justice, equity, and development practice in India and South Asia. Each one is grounded in theory, applied in context, and ready for real-world use by educators, practitioners, and social researchers.</p>
        <div class="cta-buttons">
          <a href="#courses" class="cta-btn primary">
            <i class="fas fa-play"></i>
            Start Learning
          </a>
          <a href="#courses" class="cta-btn secondary">
            <i class="fas fa-book"></i>
            Browse All Courses
          </a>
        </div>
      </div>
    </section>

    <!-- ===== CORRECTED: Featured Interactive Tool Section ===== -->
    <section class="featured-content section">
      <div class="container">
        <div class="featured-card">
          <div class="featured-icon">
            <i class="fas fa-chart-bar"></i>
          </div>
          <div class="featured-content-text">
            <h3>Where Do You Stand? India Income Reality Check</h3>
            <p>Discover where you really stand in India's income distribution. This interactive tool helps you understand income inequality and economic mobility in contemporary India through data-driven insights.</p>
            <a href="https://therealmiddle.netlify.app/" target="_blank" class="featured-btn">
              <i class="fas fa-calculator"></i>
              Try the Income Calculator
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Popular Courses Section -->
    <section class="section" id="popular-courses">
      <div class="container">
        <h2><i class="fas fa-star"></i> Popular Courses</h2>
        <p class="section-description">Start with these highly-rated courses chosen by our community</p>
        <div class="courses-grid" id="popularCoursesContainer">
          <div class="loading">Loading popular courses...</div>
        </div>
      </div>
    </section>

    <!-- All Courses Section -->
    <section class="section" id="courses">
      <div class="container">
        <h2><i class="fas fa-graduation-cap"></i> All Courses</h2>
        <p class="section-description">Comprehensive collection of development education materials</p>
        
        <!-- Filters -->
        <div class="filters-container">
          <div class="search-box">
            <input 
              type="text" 
              id="courseSearch" 
              placeholder="Search courses... (Ctrl+K)" 
              class="search-input"
              onkeyup="if(event.key==='Enter') searchCourses()"
            >
            <button class="search-btn" onclick="searchCourses()">
              <i class="fas fa-search"></i>
            </button>
          </div>
          
          <div class="filter-controls">
            <select id="categoryFilter" onchange="searchCourses()">
              <option value="all">All Categories</option>
            </select>
            
            <select id="difficultyFilter" onchange="searchCourses()">
              <option value="all">All Levels</option>
              <option value="Beginner">Beginner</option>
              <option value="Intermediate">Intermediate</option>
              <option value="Advanced">Advanced</option>
            </select>
            
            <button class="clear-filters-btn" onclick="clearAllFilters()">Clear All</button>
          </div>
        </div>
        
        <!-- Course Stats -->
        <div class="course-stats">
          <div class="stat">
            <span class="stat-number" id="totalCourses">0</span>
            <span class="stat-label">Total Courses</span>
          </div>
          <div class="stat">
            <span class="stat-number" id="filteredCourses">0</span>
            <span class="stat-label">Showing</span>
          </div>
        </div>
        
        <!-- Courses Grid -->
        <div class="courses-grid" id="coursesContainer">
          <div class="loading">Loading courses...</div>
        </div>
      </div>
    </section>

    <!-- Interactive Labs Section -->
    <section class="section" id="labs">
      <div class="container">
        <h2><i class="fas fa-flask"></i> Interactive Labs</h2>
        <p class="section-description">Hands-on tools and simulations for practical learning</p>
        
        <!-- Lab filters and search -->
        <div class="filters-container">
          <div class="search-box">
            <input 
              type="text" 
              id="labSearch" 
              placeholder="Search labs..." 
              class="search-input"
            >
            <button class="search-btn" onclick="applyLabFilters()">
              <i class="fas fa-search"></i>
            </button>
          </div>
          
          <div class="filter-controls">
            <select id="labCategoryFilter" onchange="applyLabFilters()">
              <option value="">All Categories</option>
              <option value="Interactive Tool">Interactive Tool</option>
              <option value="Data Analysis">Data Analysis</option>
              <option value="Simulation">Simulation</option>
            </select>
            
            <button class="clear-filters-btn" onclick="clearLabFilters()">Clear All</button>
          </div>
        </div>
        
        <!-- Labs Grid -->
        <div class="labs-grid" id="labsContainer">
          <div class="loading">Loading labs...</div>
        </div>
      </div>
    </section>

    <!-- Author Section -->
    <section class="section" id="author">
      <div class="container">
        <h2><i class="fas fa-user-graduate"></i> About the Author</h2>
        <div class="author-card">
          <div class="author-info">
            <h3>Dr. Varna Sri Raman</h3>
            <p class="author-title">Development Economist & Course Creator</p>
            <p class="author-bio">Dr. Varna Sri Raman is a development economist with extensive experience in South Asian contexts. Her work focuses on applied development economics, gender studies, and evidence-based policy making. She has worked with international organizations, academic institutions, and grassroots NGOs across India and South Asia.</p>
            <div class="author-links">
              <a href="mailto:contact@impactmojo.in" class="author-link">
                <i class="fas fa-envelope"></i> Contact
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>ImpactMojo</h4>
          <p>Development Education for South Asia</p>
          <p>&copy; 2025 ImpactMojo. All rights reserved.</p>
        </div>
        <div class="footer-section">
          <h4>Resources</h4>
          <ul>
            <li><a href="#courses">Courses</a></li>
            <li><a href="#labs">Labs</a></li>
            <li><a href="#learning-paths">Learning Paths</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Support</h4>
          <ul>
            <li><a href="mailto:contact@impactmojo.in">Contact Us</a></li>
            <li><a href="/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="/terms-of-use.html">Terms of Use</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- ===== SCRIPTS IN PROPER LOADING ORDER ===== -->
  
  <!-- REMOVED: Firebase SDKs and config (to prevent duplicates) -->
  <!-- Your existing Firebase setup in other files will handle this -->

  <!-- 1. Course Data - MUST LOAD FIRST -->
  <script src="course-data.js"></script>

  <!-- 2. Content Manager -->
  <script src="simple-content-manager.js"></script>

  <!-- 3. Main Application Script -->
  <script src="main.js"></script>

  <!-- 4. Firebase Auth (your existing file, now fixed) -->
  <script src="firebase-auth.js"></script>

  <!-- 5. Google Analytics (optional) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZHPPXXMRGV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZHPPXXMRGV');
  </script>

  <!-- Additional initialization to ensure everything works together -->
  <script>
    // Ensure main functions are available globally
    document.addEventListener('DOMContentLoaded', function() {
      console.log('🎯 DOM loaded, ensuring global functions...');
      
      // Make sure main functions are available
      if (typeof searchCourses === 'undefined') {
        window.searchCourses = window.ImpactMojo?.searchCourses || function() {
          console.warn('⚠️ searchCourses not yet available');
        };
      }
      
      if (typeof clearAllFilters === 'undefined') {
        window.clearAllFilters = window.ImpactMojo?.clearAllFilters || function() {
          console.warn('⚠️ clearAllFilters not yet available');
        };
      }

      // Lab filter functions (placeholders)
      window.applyLabFilters = function() {
        console.log('🧪 Applying lab filters...');
        // Implement lab filtering logic
      };

      window.clearLabFilters = function() {
        console.log('🧹 Clearing lab filters...');
        // Implement lab filter clearing logic
      };
    });
  </script>
</body>
</html>