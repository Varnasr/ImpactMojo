<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ImpactMojo 101 Knowledge Series - Development Education for South Asia</title>
  <meta name="description" content="Curated library of full-length knowledge decks exploring justice, equity, and development practice in India and South Asia.">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  
  <!-- Main Styles -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Firebase Configuration -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth, GoogleAuthProvider, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, signInWithPopup, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { getFirestore, doc, setDoc, getDoc, updateDoc, arrayUnion, arrayRemove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyDnF0eJsTULzOJUnBskybd44dG5w-f46vE",
      authDomain: "impactmojo.firebaseapp.com",
      projectId: "impactmojo",
      storageBucket: "impactmojo.firebasestorage.app",
      messagingSenderId: "529198336589",
      appId: "1:529198336589:web:1664b5344de5bfb31bea04",
      measurementId: "G-ZHPPXXMRGV"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();

    // Make Firebase available globally
    window.auth = auth;
    window.db = db;
    window.provider = provider;
    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithEmailAndPassword = signInWithEmailAndPassword;
    window.signOut = signOut;
    window.onAuthStateChanged = onAuthStateChanged;
    window.signInWithPopup = signInWithPopup;
    window.sendPasswordResetEmail = sendPasswordResetEmail;
    window.doc = doc;
    window.setDoc = setDoc;
    window.getDoc = getDoc;
    window.updateDoc = updateDoc;
    window.arrayUnion = arrayUnion;
    window.arrayRemove = arrayRemove;
  </script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="navbar">
      <div class="container">
        <div class="nav-brand">
          <a href="#home" class="brand-link">
            <h1>ImpactMojo 101</h1>
            <span>Development Education for South Asia</span>
          </a>
        </div>
        
        <div class="nav-controls">
          <ul class="nav-links">
            <li><a href="#courses" class="nav-link">Courses</a></li>
            <li><a href="#labs" class="nav-link">Labs</a></li>
            <li><a href="#learning-paths" class="nav-link">Learning Paths</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
          </ul>
          
          <div class="nav-actions">
            <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
              <i id="themeIcon" class="fas fa-moon"></i>
            </button>
            
            <!-- Auth buttons (shown when not logged in) -->
            <div id="authButtons" class="auth-buttons">
              <button onclick="showLoginModal()" class="btn btn-outline">Log In</button>
              <button onclick="showSignupModal()" class="btn btn-primary">Sign Up</button>
            </div>
            
            <!-- User menu (shown when logged in) -->
            <div id="userMenu" class="user-menu" style="display: none;">
              <button id="userMenuToggle" class="user-avatar">
                <i class="fas fa-user"></i>
              </button>
              <div class="user-dropdown">
                <div class="user-info">
                  <span id="userDisplayName">User</span>
                  <span id="userEmail">user@example.com</span>
                </div>
                <hr>
                <button onclick="showDashboard()" class="dropdown-item">
                  <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
                <button onclick="showBookmarks()" class="dropdown-item">
                  <i class="fas fa-bookmark"></i> Bookmarks
                </button>
                <button onclick="showProfile()" class="dropdown-item">
                  <i class="fas fa-user-cog"></i> Profile
                </button>
                <hr>
                <button onclick="logout()" class="dropdown-item">
                  <i class="fas fa-sign-out-alt"></i> Log Out
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1>ImpactMojo 101 Knowledge Series</h1>
        <p>ImpactMojo is a curated library of full-length knowledge decks that explore justice, equity, and development practice in India and South Asia. Each one is grounded in theory, applied in context, and ready for real-world use by educators, practitioners, and social researchers.</p>
        <div class="hero-actions">
          <a href="#courses" class="btn btn-primary btn-large">
            <i class="fas fa-graduation-cap"></i> Explore Courses
          </a>
          <a href="#labs" class="btn btn-outline btn-large">
            <i class="fas fa-flask"></i> Try Labs
          </a>
        </div>
      </div>
    </section>

    <!-- Learning Paths Section -->
    <section id="learning-paths" class="learning-paths-section">
      <div class="container">
        <h2><i class="fas fa-route"></i> Recommended Learning Paths</h2>
        
        <div class="learning-paths-grid">
          <div class="learning-path-card">
            <div class="path-header">
              <i class="fas fa-chart-line path-icon"></i>
              <h3>Data Analysis Track</h3>
            </div>
            <p>Master data skills from basics to advanced analysis</p>
            <div class="path-courses">
              <span class="course-tag">Data Literacy 101</span>
              <span class="course-tag">EDA for Survey Data</span>
              <span class="course-tag">Bivariate Analysis</span>
              <span class="course-tag">Multivariate Analysis</span>
            </div>
            <div class="path-stats">
              <span class="path-duration">12-16 hours</span>
              <span class="path-level">Beginner to Advanced</span>
            </div>
          </div>

          <div class="learning-path-card">
            <div class="path-header">
              <i class="fas fa-venus-mars path-icon"></i>
              <h3>Gender Studies Pathway</h3>
            </div>
            <p>Comprehensive understanding of gender in development</p>
            <div class="path-courses">
              <span class="course-tag">Gender Studies 101</span>
              <span class="course-tag">Data Feminism 101</span>
              <span class="course-tag">Care Economy</span>
              <span class="course-tag">Women's Economic Empowerment</span>
            </div>
            <div class="path-stats">
              <span class="path-duration">10-14 hours</span>
              <span class="path-level">Intermediate</span>
            </div>
          </div>

          <div class="learning-path-card">
            <div class="path-header">
              <i class="fas fa-microscope path-icon"></i>
              <h3>Research Methods Journey</h3>
            </div>
            <p>Complete research toolkit for development work</p>
            <div class="path-courses">
              <span class="course-tag">Research Ethics 101</span>
              <span class="course-tag">Qualitative Research 101</span>
              <span class="course-tag">Econometrics 101</span>
              <span class="course-tag">MEL 101</span>
            </div>
            <div class="path-stats">
              <span class="path-duration">16-20 hours</span>
              <span class="path-level">Advanced</span>
            </div>
          </div>

          <div class="learning-path-card">
            <div class="path-header">
              <i class="fas fa-heartbeat path-icon"></i>
              <h3>Health Systems Track</h3>
            </div>
            <p>Public health and health system strengthening</p>
            <div class="path-courses">
              <span class="course-tag">Public Health 101</span>
              <span class="course-tag">Mental Health 101</span>
              <span class="course-tag">Nutrition & Food Security</span>
              <span class="course-tag">SRHR 101</span>
            </div>
            <div class="path-stats">
              <span class="path-duration">14-18 hours</span>
              <span class="path-level">Intermediate</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Latest Additions -->
    <section class="latest-additions">
      <div class="container">
        <h2><i class="fas fa-plus-circle"></i> Latest Additions</h2>
        <div class="latest-grid">
          <div class="latest-item">
            <h4>Education and Pedagogy 101</h4>
            <span class="added-date">Added May 2025</span>
          </div>
          <div class="latest-item">
            <h4>Public Health 101</h4>
            <span class="added-date">Added May 2025</span>
          </div>
          <div class="latest-item">
            <h4>Livelihoods 101</h4>
            <span class="added-date">Added April 2025</span>
          </div>
          <div class="latest-item">
            <h4>Gender Studies 101</h4>
            <span class="added-date">Added April 2025</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Courses Section -->
    <section id="courses" class="courses-section">
      <div class="container">
        <div class="section-header">
          <h2><i class="fas fa-graduation-cap"></i> All Courses</h2>
          <div class="course-count">
            <span id="courseCount">34 courses available</span>
          </div>
        </div>

        <!-- Search and Filters -->
        <div class="search-filters">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="Search courses by title, topic, or description..." aria-label="Search courses">
          </div>
          
          <div class="filters-row">
            <div class="filter-group">
              <label for="categoryFilter">Category</label>
              <select id="categoryFilter" onchange="filterCourses()">
                <option value="">All Categories</option>
                <option value="Data Analysis">Data Analysis</option>
                <option value="Gender Studies">Gender Studies</option>
                <option value="Economics">Economics</option>
                <option value="Research Methods">Research Methods</option>
                <option value="Health">Health</option>
                <option value="Policy">Policy</option>
                <option value="Justice">Justice</option>
                <option value="Technology">Technology</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label for="difficultyFilter">Difficulty</label>
              <select id="difficultyFilter" onchange="filterCourses()">
                <option value="">All Levels</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label for="sortBy">Sort By</label>
              <select id="sortBy" onchange="filterCourses()">
                <option value="popularity">Popularity</option>
                <option value="rating">Rating</option>
                <option value="title">Title</option>
                <option value="recent">Recently Added</option>
              </select>
            </div>

            <div class="filter-actions">
              <button id="compareBtn" onclick="showComparison()" class="btn btn-outline" disabled>
                <i class="fas fa-balance-scale"></i> Compare (<span id="compareCount">0</span>)
              </button>
            </div>
          </div>
        </div>

        <!-- Course Grid -->
        <div class="courses-grid" id="courseContainer">
          <!-- Courses will be populated by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Labs Section -->
    <section id="labs" class="labs-section">
      <div class="container">
        <div class="section-header">
          <h2><i class="fas fa-flask"></i> ImpactMojo Labs</h2>
          <p>Interactive tools and experimental features for development practitioners</p>
        </div>

        <div class="labs-grid" id="labsContainer">
          <!-- Labs will be populated by JavaScript -->
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
      <div class="container">
        <h2><i class="fas fa-info-circle"></i> About Dr. Varna Sri Raman</h2>
        
        <div class="author-card">
          <div class="author-photo">
            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=687&q=80" alt="Dr. Varna Sri Raman" loading="lazy">
          </div>
          <div class="author-content">
            <h3>Dr. Varna Sri Raman</h3>
            <p class="author-title">Development Economist & Educator</p>
            
            <p>Dr. Varna Sri Raman is a development economist with a PhD focused on creating accessible, evidence-based educational resources for South Asia. Her work bridges the gap between academic research and practical application in development work.</p>
            
            <p>She specializes in data analysis, gender studies, and development economics, with particular expertise in making complex concepts accessible to practitioners working across India and South Asia.</p>
            
            <div class="author-links">
              <a href="https://www.threads.net/@varna.sr" target="_blank" rel="noopener" title="Follow Dr. Varna on Threads">
                <i class="fab fa-threads"></i> Threads
              </a>
              <a href="https://www.linkedin.com/in/varna" target="_blank" rel="noopener" title="Connect with Dr. Varna on LinkedIn">
                <i class="fab fa-linkedin"></i> LinkedIn
              </a>
              <a href="https://vfolio.notion.site/" target="_blank" rel="noopener" title="View Dr. Varna's Portfolio">
                <i class="fas fa-globe"></i> Portfolio
              </a>
              <a href="mailto:suggestions@impactmojo.in" class="author-link">
                <i class="fas fa-envelope"></i> Contact
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>ImpactMojo</h4>
          <p>Advancing justice through evidence-based learning in South Asian development practice.</p>
          <div class="contact-info">
            <p><i class="fas fa-envelope"></i> suggestions@impactmojo.in</p>
            <p><i class="fas fa-globe"></i> www.impactmojo.in</p>
          </div>
        </div>
        
        <div class="footer-section">
          <h4>Courses</h4>
          <ul>
            <li><a href="#courses">Browse All Courses</a></li>
            <li><a href="#data-analysis">Data Analysis Track</a></li>
            <li><a href="#gender-studies">Gender Studies</a></li>
            <li><a href="#economics">Development Economics</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Learning</h4>
          <ul>
            <li><a href="#learning-paths">Learning Paths</a></li>
            <li><a href="#courses">Course Catalog</a></li>
            <li><a href="#labs">Labs</a></li>
            <li><a href="#upcoming">Upcoming Courses</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Support</h4>
          <ul>
            <li><a href="/help">Help Center</a></li>
            <li><a href="/terms-of-use.html">Terms of Use</a></li>
            <li><a href="/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="/accessibility.html">Accessibility</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <p>&copy; 2025 ImpactMojo. Advancing development education in South Asia.</p>
      </div>
    </div>
  </footer>

  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('loginModal')">&times;</span>
      <h2><i class="fas fa-sign-in-alt"></i> Log In</h2>
      <form onsubmit="login(event)">
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input type="password" id="loginPassword" required>
        </div>
        <button type="submit" class="btn btn-primary btn-full">Log In</button>
      </form>
      
      <div class="auth-divider">
        <span>or</span>
      </div>
      
      <button onclick="signInWithGoogle()" class="btn btn-google btn-full">
        <i class="fab fa-google"></i> Continue with Google
      </button>
      
      <div class="auth-links">
        <a href="#" onclick="showForgotPassword()">Forgot Password?</a>
        <span>·</span>
        <a href="#" onclick="closeModal('loginModal'); showSignupModal()">Create Account</a>
      </div>
    </div>
  </div>

  <!-- Signup Modal -->
  <div id="signupModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('signupModal')">&times;</span>
      <h2><i class="fas fa-user-plus"></i> Create Account</h2>
      <form onsubmit="signup(event)">
        <div class="form-group">
          <label for="signupName">Full Name</label>
          <input type="text" id="signupName" required>
        </div>
        <div class="form-group">
          <label for="signupEmail">Email</label>
          <input type="email" id="signupEmail" required>
        </div>
        <div class="form-group">
          <label for="signupPassword">Password</label>
          <input type="password" id="signupPassword" required minlength="6">
        </div>
        <button type="submit" class="btn btn-primary btn-full">Create Account</button>
      </form>
      
      <div class="auth-divider">
        <span>or</span>
      </div>
      
      <button onclick="signInWithGoogle()" class="btn btn-google btn-full">
        <i class="fab fa-google"></i> Continue with Google
      </button>
      
      <div class="auth-links">
        <span>Already have an account?</span>
        <a href="#" onclick="closeModal('signupModal'); showLoginModal()">Log In</a>
      </div>
    </div>
  </div>

  <!-- Dashboard Modal -->
  <div id="dashboardModal" class="modal">
    <div class="modal-content large">
      <span class="close" onclick="closeModal('dashboardModal')">&times;</span>
      <h2><i class="fas fa-tachometer-alt"></i> Your Dashboard</h2>
      <div id="dashboardContent">
        <!-- Dashboard content will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Course Comparison Modal -->
  <div id="comparisonModal" class="modal">
    <div class="modal-content large">
      <span class="close" onclick="closeModal('comparisonModal')">&times;</span>
      <h2><i class="fas fa-balance-scale"></i> Course Comparison</h2>
      <div id="comparisonContent">
        <p>Select courses to compare by checking the boxes on course cards.</p>
      </div>
    </div>
  </div>

  <!-- Notification Container -->
  <div id="notificationContainer" class="notification-container"></div>

  <!-- Load JavaScript Files -->
  <script src="course-data.js"></script>
  <script src="simple-content-manager.js"></script>
  <script src="main.js"></script>
  
  <!-- Firebase Auth Script -->
  <script>
    // Global variables for Firebase Auth
    let currentUser = null;
    let userBookmarks = [];
    let userLabBookmarks = [];
    let userNotes = '';

    // Authentication state observer
    window.onAuthStateChanged(window.auth, async (user) => {
      currentUser = user;
      
      if (user) {
        // User is signed in
        console.log('User signed in:', user.email);
        
        // Update UI
        document.getElementById('authButtons').style.display = 'none';
        document.getElementById('userMenu').style.display = 'block';
        document.getElementById('userDisplayName').textContent = user.displayName || user.email.split('@')[0];
        document.getElementById('userEmail').textContent = user.email;
        
        // Load user data
        await loadUserData(user.uid);
        
        showNotification('Welcome back!', 'success');
      } else {
        // User is signed out
        console.log('User signed out');
        
        // Update UI
        document.getElementById('authButtons').style.display = 'flex';
        document.getElementById('userMenu').style.display = 'none';
        
        // Clear user data
        userBookmarks = [];
        userLabBookmarks = [];
        userNotes = '';
      }
    });

    // Load user data from Firestore
    async function loadUserData(userId) {
      try {
        const userDoc = await window.getDoc(window.doc(window.db, 'users', userId));
        if (userDoc.exists()) {
          const userData = userDoc.data();
          userBookmarks = userData.bookmarks || [];
          userLabBookmarks = userData.labBookmarks || [];
          userNotes = userData.notes || '';
        }
      } catch (error) {
        console.error('Error loading user data:', error);
      }
    }

    // Authentication functions
    function showLoginModal() {
      document.getElementById('loginModal').style.display = 'block';
    }

    function showSignupModal() {
      document.getElementById('signupModal').style.display = 'block';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    async function login(event) {
      event.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      try {
        await window.signInWithEmailAndPassword(window.auth, email, password);
        closeModal('loginModal');
        document.getElementById('loginEmail').value = '';
        document.getElementById('loginPassword').value = '';
      } catch (error) {
        console.error('Login error:', error);
        showNotification(getErrorMessage(error), 'error');
      }
    }

    async function signup(event) {
      event.preventDefault();
      
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      
      try {
        const userCredential = await window.createUserWithEmailAndPassword(window.auth, email, password);
        const user = userCredential.user;
        
        // Create user document in Firestore
        await window.setDoc(window.doc(window.db, 'users', user.uid), {
          displayName: name,
          email: email,
          createdAt: new Date(),
          bookmarks: [],
          labBookmarks: [],
          notes: '',
          progress: {}
        });
        
        closeModal('signupModal');
        showNotification('Account created successfully!', 'success');
        
        // Clear form
        document.getElementById('signupName').value = '';
        document.getElementById('signupEmail').value = '';
        document.getElementById('signupPassword').value = '';
      } catch (error) {
        console.error('Signup error:', error);
        showNotification(getErrorMessage(error), 'error');
      }
    }

    async function signInWithGoogle() {
      try {
        const result = await window.signInWithPopup(window.auth, window.provider);
        const user = result.user;
        
        // Check if user document exists, create if not
        const userDoc = await window.getDoc(window.doc(window.db, 'users', user.uid));
        if (!userDoc.exists()) {
          await window.setDoc(window.doc(window.db, 'users', user.uid), {
            displayName: user.displayName,
            email: user.email,
            createdAt: new Date(),
            bookmarks: [],
            labBookmarks: [],
            notes: '',
            progress: {}
          });
        }
        
        closeModal('loginModal');
        closeModal('signupModal');
        showNotification('Successfully signed in with Google!', 'success');
      } catch (error) {
        console.error('Google sign-in error:', error);
        showNotification(getErrorMessage(error), 'error');
      }
    }

    async function logout() {
      try {
        await window.signOut(window.auth);
        showNotification('Successfully logged out!', 'success');
      } catch (error) {
        console.error('Logout error:', error);
        showNotification('Error logging out', 'error');
      }
    }

    function showDashboard() {
      document.getElementById('dashboardModal').style.display = 'block';
      // Populate dashboard content
      const content = document.getElementById('dashboardContent');
      content.innerHTML = `
        <div class="dashboard-stats">
          <div class="stat-card">
            <h3>Bookmarked Courses</h3>
            <p class="stat-number">${userBookmarks.length}</p>
          </div>
          <div class="stat-card">
            <h3>Bookmarked Labs</h3>
            <p class="stat-number">${userLabBookmarks.length}</p>
          </div>
        </div>
        <div class="dashboard-section">
          <h3>Your Notes</h3>
          <textarea placeholder="Add your notes here..." rows="4" style="width: 100%; padding: 1rem; border: 1px solid var(--border-color); border-radius: 0.5rem;">${userNotes}</textarea>
          <button onclick="saveNotes()" class="btn btn-primary" style="margin-top: 1rem;">Save Notes</button>
        </div>
      `;
    }

    function showBookmarks() {
      // Filter courses by bookmarked IDs
      const bookmarkedCourses = courses.filter(course => userBookmarks.includes(course.id));
      const bookmarkedLabs = labs.filter(lab => userLabBookmarks.includes(lab.id));
      
      showNotification(`You have ${bookmarkedCourses.length} bookmarked courses and ${bookmarkedLabs.length} bookmarked labs`, 'info');
    }

    function showProfile() {
      if (!currentUser) return;
      
      const profileInfo = `
        Email: ${currentUser.email}
        Member since: ${currentUser.metadata?.creationTime ? new Date(currentUser.metadata.creationTime).toLocaleDateString() : 'Unknown'}
        Bookmarks: ${userBookmarks.length} courses, ${userLabBookmarks.length} labs
      `;
      
      showNotification('Profile: ' + profileInfo, 'info');
    }

    async function saveNotes() {
      if (!currentUser) return;
      
      const notes = document.querySelector('#dashboardContent textarea').value;
      
      try {
        const userRef = window.doc(window.db, 'users', currentUser.uid);
        await window.updateDoc(userRef, { notes: notes });
        userNotes = notes;
        showNotification('Notes saved successfully', 'success');
      } catch (error) {
        console.error('Error saving notes:', error);
        showNotification('Error saving notes', 'error');
      }
    }

    function getErrorMessage(error) {
      switch (error.code) {
        case 'auth/user-not-found':
          return 'No account found with this email address.';
        case 'auth/wrong-password':
          return 'Incorrect password.';
        case 'auth/email-already-in-use':
          return 'An account already exists with this email address.';
        case 'auth/weak-password':
          return 'Password should be at least 6 characters.';
        case 'auth/invalid-email':
          return 'Please enter a valid email address.';
        case 'auth/too-many-requests':
          return 'Too many failed attempts. Please try again later.';
        default:
          return error.message || 'An error occurred. Please try again.';
      }
    }

    // Notification function
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      
      const container = document.getElementById('notificationContainer') || document.body;
      container.appendChild(notification);
      
      setTimeout(() => {
        if (notification.parentNode) {
          notification.parentNode.removeChild(notification);
        }
      }, 5000);
    }

    // Theme toggle function
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      const themeIcon = document.getElementById('themeIcon');
      
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      
      if (themeIcon) {
        themeIcon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
      }
    }

    // Initialize theme
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    const themeIcon = document.getElementById('themeIcon');
    if (themeIcon) {
      themeIcon.className = savedTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
    }

    // Close modals when clicking outside
    window.onclick = function(event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    };
  </script>
</body>
</html>