<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ImpactMojo 101 Knowledge Series - Development Education for South Asia</title>
  <meta name="description" content="A curated library of full-length knowledge decks exploring justice, equity, and development practice in India and South Asia. Grounded in theory, applied in context.">
  
  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "ImpactMojo 101 Knowledge Series",
    "description": "Development Education for South Asia",
    "url": "https://www.impactmojo.in",
    "founder": {
      "@type": "Person",
      "name": "Dr. Varna Sri Raman"
    },
    "educationalLevel": "Higher Education",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "IN"
    }
  }
  </script>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Firebase Configuration with your actual config -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { getFirestore, doc, setDoc, getDoc, updateDoc, arrayUnion, arrayRemove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyDnF0eJsTULzOJUnBskybd44dG5w-f46vE",
      authDomain: "impactmojo.firebaseapp.com",
      projectId: "impactmojo",
      storageBucket: "impactmojo.firebasestorage.app",
      messagingSenderId: "529198336589",
      appId: "1:529198336589:web:1664b5344de5bfb31bea04",
      measurementId: "G-ZHPPXXMRGV"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();

    // Make Firebase available globally
    window.auth = auth;
    window.db = db;
    window.provider = provider;
    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithEmailAndPassword = signInWithEmailAndPassword;
    window.signOut = signOut;
    window.onAuthStateChanged = onAuthStateChanged;
    window.signInWithPopup = signInWithPopup;
    window.sendPasswordResetEmail = sendPasswordResetEmail;
    window.doc = doc;
    window.setDoc = setDoc;
    window.getDoc = getDoc;
    window.updateDoc = updateDoc;
    window.arrayUnion = arrayUnion;
    window.arrayRemove = arrayRemove;
  </script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="navbar">
      <div class="container">
        <div class="nav-brand">
          <a href="#home" class="brand-link">
            <h1>ImpactMojo</h1>
            <span>101 Knowledge Series</span>
          </a>
        </div>
        
        <div class="nav-menu">
          <ul class="nav-links">
            <li><a href="#courses">Courses</a></li>
            <li><a href="#labs">Labs</a></li>
            <li><a href="#learning-paths">Learning Paths</a></li>
            <li><a href="#about">About</a></li>
          </ul>
          
          <div class="nav-actions">
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
              <i id="themeIcon" class="fas fa-moon"></i>
            </button>
            
            <!-- Auth buttons - shown when not logged in -->
            <div class="auth-buttons" id="authButtons">
              <button class="auth-btn" onclick="showLoginModal()">Login</button>
              <button class="auth-btn signup" onclick="showSignupModal()">Sign Up</button>
            </div>
            
            <!-- User menu - shown when logged in -->
            <div class="user-menu hidden" id="userMenu">
              <button class="user-btn" onclick="toggleUserDropdown()">
                <i class="fas fa-user"></i>
                <span id="userDisplayName">User</span>
                <i class="fas fa-chevron-down"></i>
              </button>
              <div class="user-dropdown hidden" id="userDropdown">
                <a href="#dashboard" onclick="showDashboard()">
                  <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="#bookmarks" onclick="showBookmarks()">
                  <i class="fas fa-bookmark"></i> My Bookmarks
                </a>
                <a href="#profile" onclick="showProfile()">
                  <i class="fas fa-user-edit"></i> Profile
                </a>
                <div class="dropdown-divider"></div>
                <a href="#logout" onclick="logout()">
                  <i class="fas fa-sign-out-alt"></i> Logout
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="mobile-menu-toggle">
          <button onclick="toggleMobileMenu()" aria-label="Toggle mobile menu">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero">
      <div class="container">
        <h2>Development Education for South Asia</h2>
        <p>A curated library of full-length knowledge decks exploring justice, equity, and development practice in India and South Asia. Each one is grounded in theory, applied in context, and ready for real-world use by educators, practitioners, and social researchers.</p>
        <div class="hero-stats">
          <div class="stat">
            <div class="number">33</div>
            <div class="label">Knowledge Decks</div>
          </div>
          <div class="stat">
            <div class="number">9</div>
            <div class="label">Interactive Labs</div>
          </div>
          <div class="stat">
            <div class="number">25K+</div>
            <div class="label">Learners</div>
          </div>
        </div>
        <div class="hero-actions">
          <a href="#courses" class="cta-btn primary">Browse Courses</a>
          <a href="#learning-paths" class="cta-btn secondary">Learning Paths</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <div class="container">
      <!-- Latest Additions -->
      <section class="latest-additions">
        <h3><i class="fas fa-sparkles"></i> Latest Additions</h3>
        <ul>
          <li>
            <span>Education and Pedagogy 101</span>
            <span class="date">Added May 2025</span>
          </li>
          <li>
            <span>Public Health 101</span>
            <span class="date">Added May 2025</span>
          </li>
          <li>
            <span>Livelihoods 101</span>
            <span class="date">Added April 2025</span>
          </li>
          <li>
            <span>Gender Studies 101</span>
            <span class="date">Added April 2025</span>
          </li>
        </ul>
      </section>

      <!-- Learning Paths -->
      <section id="learning-paths" class="learning-paths">
        <h3><i class="fas fa-route"></i> Recommended Learning Paths</h3>
        <div class="paths-grid">
          <div class="path-card" onclick="filterByPath('data-analysis')">
            <h4>Data Analysis Track</h4>
            <p>Master data skills from basics to advanced analysis</p>
            <div class="course-tags">
              <span>Data Literacy 101</span>
              <span>EDA for Survey Data</span>
              <span>Bivariate Analysis</span>
              <span>Multivariate Analysis</span>
            </div>
          </div>
          
          <div class="path-card" onclick="filterByPath('gender-studies')">
            <h4>Gender Studies Pathway</h4>
            <p>Comprehensive understanding of gender in development</p>
            <div class="course-tags">
              <span>Gender Studies 101</span>
              <span>Data Feminism 101</span>
              <span>Care Economy</span>
              <span>Women's Economic Empowerment</span>
            </div>
          </div>
          
          <div class="path-card" onclick="filterByPath('economics')">
            <h4>Development Economics</h4>
            <p>Economic analysis for development practitioners</p>
            <div class="course-tags">
              <span>Development Economics 101</span>
              <span>Econometrics 101</span>
              <span>Decent Work for All 101</span>
              <span>Social Safety Nets 101</span>
            </div>
          </div>
          
          <div class="path-card" onclick="filterByPath('justice')">
            <h4>Justice & Rights</h4>
            <p>Human rights and social justice frameworks</p>
            <div class="course-tags">
              <span>Indian Constitution and Law 101</span>
              <span>Environmental Justice 101</span>
              <span>Digital Development Ethics 101</span>
              <span>Data Protection 101</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Courses Section -->
      <section id="courses" class="courses-section">
        <h3><i class="fas fa-graduation-cap"></i> All Courses</h3>
        <p>Explore our complete library of knowledge decks</p>
        
        <!-- Filter Controls -->
        <div class="controls-container">
          <div class="search-filters">
            <div class="search-container">
              <i class="fas fa-search search-icon"></i>
              <input type="text" id="searchInput" placeholder="Search courses..." onkeyup="searchCourses()">
            </div>
            
            <div class="filter-container">
              <select id="categoryFilter" onchange="filterCourses()">
                <option value="all">All Categories</option>
                <option value="Data Analysis">Data Analysis</option>
                <option value="Research Methods">Research Methods</option>
                <option value="Economics">Economics</option>
                <option value="Justice">Justice</option>
                <option value="Technology">Technology</option>
                <option value="Climate">Climate</option>
              </select>
            </div>
            
            <div class="advanced-search-toggle">
              <button onclick="toggleAdvancedSearch()" class="toggle-btn">
                <i class="fas fa-sliders-h"></i> Advanced Search
              </button>
            </div>
          </div>

          <div class="view-options">
            <button class="view-btn active" onclick="setView('grid')" data-view="grid">
              <i class="fas fa-th"></i>
            </button>
            <button class="view-btn" onclick="setView('list')" data-view="list">
              <i class="fas fa-list"></i>
            </button>
          </div>
        </div>

        <!-- Advanced Search Panel -->
        <div class="advanced-search hidden" id="advancedSearch">
          <div class="search-operators">
            <label>Search Operators:</label>
            <button class="operator-btn" onclick="addOperator('AND')">AND</button>
            <button class="operator-btn" onclick="addOperator('OR')">OR</button>
            <button class="operator-btn" onclick="addOperator('NOT')">NOT</button>
            <button class="operator-btn" onclick="addOperator('\"\"')">"Exact Phrase"</button>
          </div>
          <div style="margin-bottom: 1rem;">
            <label>Saved Searches:</label>
            <div class="saved-searches" id="savedSearches">
              <!-- Populated by JavaScript -->
            </div>
            <button class="secondary-btn" onclick="saveCurrentSearch()" style="margin-left: 1rem;">
              <i class="fas fa-save"></i> Save Search
            </button>
          </div>
        </div>
        
        <div class="filters-row">
          <div class="filter-group">
            <label for="levelFilter">Difficulty Level:</label>
            <select id="levelFilter" onchange="filterDecks()">
              <option value="all">All Levels</option>
              <option value="beginner">Beginner</option>
              <option value="intermediate">Intermediate</option>
              <option value="advanced">Advanced</option>
            </select>
          </div>
          
          <div class="filter-group">
            <label for="durationFilter">Duration:</label>
            <select id="durationFilter" onchange="filterDecks()">
              <option value="all">Any Duration</option>
              <option value="short">Short (< 2 hours)</option>
              <option value="medium">Medium (2-4 hours)</option>
              <option value="long">Long (4+ hours)</option>
            </select>
          </div>
          
          <div class="filter-group">
            <button class="clear-filters" onclick="clearAllFilters()">
              <i class="fas fa-times"></i> Clear Filters
            </button>
          </div>
        </div>

        <div class="stats-bar">
          <div class="course-count" id="courseCount" role="status" aria-live="polite">
            Showing <span id="visibleCount">33</span> of <span id="totalCount">33</span> courses
          </div>
        </div>

        <!-- Course Grid -->
        <div class="courses-grid" id="courseContainer">
          <!-- Course cards will be generated by JavaScript -->
        </div>

        <!-- No Results -->
        <div class="no-results hidden" id="noResults">
          <i class="fas fa-search"></i>
          <h3>No courses found</h3>
          <p>Try adjusting your search terms or filters to find what you're looking for.</p>
        </div>
      </section>
    </div>
  </main>

  <!-- Labs Section -->
  <section id="labs" class="labs-section">
    <div class="container">
      <h3><i class="fas fa-flask"></i> ImpactMojo Labs</h3>
      <p>Interactive tools and experimental features for development practitioners</p>
      
      <div id="labsContainer" class="labs-grid">
        <!-- Lab cards will be generated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>ImpactMojo</h4>
          <p>Advancing justice through evidence-based learning in South Asian development practice.</p>
          <div class="footer-contact">
            <p><i class="fas fa-envelope"></i> suggestions@impactmojo.in</p>
            <p><i class="fas fa-globe"></i> www.impactmojo.in</p>
          </div>
        </div>
        
        <div class="footer-section">
          <h4>Courses</h4>
          <ul>
            <li><a href="#courses">Browse All Courses</a></li>
            <li><a href="#data-analysis">Data Analysis Track</a></li>
            <li><a href="#gender-studies">Gender Studies</a></li>
            <li><a href="#economics">Development Economics</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Tools</h4>
          <ul>
            <li><a href="#labs">ImpactMojo Labs</a></li>
            <li><a href="#toc-workbench">TOC Workbench</a></li>
            <li><a href="#data-playground">Data Playground</a></li>
            <li><a href="#survey-builder">Survey Builder</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4>Community</h4>
          <ul>
            <li><a href="#join">Join Community</a></li>
            <li><a href="#contribute">Contribute Content</a></li>
            <li><a href="#feedback">Give Feedback</a></li>
            <li><a href="#newsletter">Newsletter</a></li>
          </ul>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="footer-links">
          <a href="#privacy">Privacy Policy</a>
          <a href="#terms">Terms of Service</a>
          <a href="#accessibility">Accessibility</a>
          <a href="#contact">Contact</a>
        </div>
        
        <div class="footer-legal">
          <p>&copy; 2025 ImpactMojo. All rights reserved.</p>
          <p>
            Content licensed under 
            <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a>
          </p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Modals -->
  <!-- Login Modal -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('loginModal')">&times;</span>
      <h2>Welcome Back</h2>
      <form id="loginForm" onsubmit="login(event)">
        <div style="margin-bottom: 1rem;">
          <input type="email" id="loginEmail" placeholder="Email" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius);">
        </div>
        <div style="margin-bottom: 1rem;">
          <input type="password" id="loginPassword" placeholder="Password" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius);">
        </div>
        <button type="submit" style="width: 100%; padding: 0.75rem; background: var(--secondary-color); color: white; border: none; border-radius: var(--border-radius); cursor: pointer;">Login</button>
      </form>
      <div style="text-align: center; margin-top: 1rem;">
        <button onclick="signInWithGoogle()" style="padding: 0.75rem 1rem; background: var(--danger-color); color: white; border: none; border-radius: var(--border-radius); cursor: pointer;">
          <i class="fab fa-google"></i> Sign in with Google
        </button>
      </div>
      <div style="text-align: center; margin-top: 1rem;">
        <a href="#" onclick="showForgotPassword()" style="color: var(--secondary-color);">Forgot Password?</a>
      </div>
    </div>
  </div>

  <!-- Signup Modal -->
  <div id="signupModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('signupModal')">&times;</span>
      <h2>Join ImpactMojo</h2>
      <form id="signupForm" onsubmit="signup(event)">
        <div style="margin-bottom: 1rem;">
          <input type="text" id="signupName" placeholder="Full Name" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius);">
        </div>
        <div style="margin-bottom: 1rem;">
          <input type="email" id="signupEmail" placeholder="Email" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius);">
        </div>
        <div style="margin-bottom: 1rem;">
          <input type="password" id="signupPassword" placeholder="Password" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius);">
        </div>
        <button type="submit" style="width: 100%; padding: 0.75rem; background: var(--accent-color); color: white; border: none; border-radius: var(--border-radius); cursor: pointer;">Sign Up</button>
      </form>
      <div style="text-align: center; margin-top: 1rem;">
        <button onclick="signInWithGoogle()" style="padding: 0.75rem 1rem; background: var(--danger-color); color: white; border: none; border-radius: var(--border-radius); cursor: pointer;">
          <i class="fab fa-google"></i> Sign Up with Google
        </button>
      </div>
    </div>
  </div>

  <!-- External JavaScript Files -->
  <script src="course-data.js"></script>
  <script src="firebase-auth.js"></script>
  <script src="main.js"></script>
</body>
</html>