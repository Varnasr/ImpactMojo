<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ImpactMojo 101 Knowledge Series - Development Education for South Asia</title>
  <meta name="description" content="A curated library of full-length knowledge decks exploring justice, equity, and development practice in India and South Asia. Grounded in theory, applied in context.">
  
  <!-- Schema.org structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "ImpactMojo 101 Knowledge Series",
    "description": "Development Education for South Asia",
    "url": "https://www.impactmojo.in",
    "founder": {
      "@type": "Person",
      "name": "Dr. Varna Sri Raman"
    },
    "educationalLevel": "Higher Education",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "IN"
    }
  }
  </script>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Firebase Configuration -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { getFirestore, doc, setDoc, getDoc, updateDoc, arrayUnion, arrayRemove } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

    const firebaseConfig = {
      apiKey: "AIzaSyDnF0eJsTULzOJUnBskybd44dG5w-f46vE",
      authDomain: "impactmojo.firebaseapp.com",
      projectId: "impactmojo",
      storageBucket: "impactmojo.firebasestorage.app",
      messagingSenderId: "529198336589",
      appId: "1:529198336589:web:1664b5344de5bfb31bea04",
      measurementId: "G-ZHPPXXMRGV"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();

    // Make Firebase available globally
    window.auth = auth;
    window.db = db;
    window.provider = provider;
    window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
    window.signInWithEmailAndPassword = signInWithEmailAndPassword;
    window.signOut = signOut;
    window.onAuthStateChanged = onAuthStateChanged;
    window.signInWithPopup = signInWithPopup;
    window.sendPasswordResetEmail = sendPasswordResetEmail;
    window.doc = doc;
    window.setDoc = setDoc;
    window.getDoc = getDoc;
    window.updateDoc = updateDoc;
    window.arrayUnion = arrayUnion;
    window.arrayRemove = arrayRemove;
  </script>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <img src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=40&h=40&fit=crop&crop=center" alt="ImpactMojo" class="brand-logo">
        <span class="brand-text">ImpactMojo</span>
      </div>
      
      <div class="nav-menu" id="navMenu">
        <a href="#courses" class="nav-link" onclick="showSection('courses')">
          <i class="fas fa-graduation-cap"></i> Courses
        </a>
        <a href="#labs" class="nav-link" onclick="showSection('labs')">
          <i class="fas fa-flask"></i> Labs
        </a>
        <a href="#notes" class="nav-link" onclick="showSection('notes')">
          <i class="fas fa-sticky-note"></i> Notes
        </a>
        
        <!-- User Menu -->
        <div class="user-menu">
          <div id="logged-out-menu" style="display: flex;">
            <button class="nav-btn primary" onclick="openAuthModal('login')">
              <i class="fas fa-sign-in-alt"></i> Login
            </button>
            <button class="nav-btn secondary" onclick="openAuthModal('signup')">
              <i class="fas fa-user-plus"></i> Sign Up
            </button>
          </div>
          
          <div id="logged-in-menu" style="display: none;">
            <div class="user-avatar" onclick="toggleUserDropdown()">
              <img id="user-photo" style="display: none;" alt="User">
              <div id="user-initials" class="user-initials">U</div>
            </div>
            <div class="user-dropdown" id="userDropdown">
              <div id="user-display" class="user-info">Welcome!</div>
              <a href="#" onclick="openDashboard()"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
              <a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
          </div>
        </div>
        
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
          <i id="themeIcon" class="fas fa-moon"></i>
        </button>
      </div>
      
      <div class="mobile-toggle" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- Header Section -->
  <header class="header">
    <div class="header-content">
      <div class="container">
        <h1>ImpactMojo 101 Knowledge Series</h1>
        <p>A curated library of full-length knowledge decks exploring justice, equity, and development practice in India and South Asia. Grounded in theory, applied in context.</p>
        <div class="header-stats">
          <div class="stat-item">
            <span class="stat-number">33+</span>
            <span class="stat-label">Courses</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">9</span>
            <span class="stat-label">Live Labs</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">10k+</span>
            <span class="stat-label">Learners</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Courses Section -->
    <section id="courses" class="courses-section">
      <div class="container">
        <div class="section-header">
          <div class="section-icon"><i class="fas fa-graduation-cap"></i></div>
          <h2>All Courses</h2>
          <p>Explore our comprehensive collection of development-focused knowledge decks</p>
        </div>

        <!-- Filter and Search Controls -->
        <div class="controls-container">
          <div class="search-filters">
            <div class="search-container">
              <input type="text" id="searchInput" placeholder="Search courses..." onkeyup="searchCourses()" aria-label="Search courses">
              <i class="fas fa-search search-icon"></i>
            </div>
            
            <div class="filter-container">
              <select id="categoryFilter" onchange="filterCourses()" aria-label="Filter by category">
                <option value="All Courses">All Categories</option>
                <option value="Data Analysis">Data Analysis</option>
                <option value="Economics">Economics</option>
                <option value="Gender Studies">Gender Studies</option>
                <option value="Health">Health</option>
                <option value="Identity & Justice">Identity & Justice</option>
                <option value="Climate & Environment">Climate & Environment</option>
                <option value="Urban & Systems">Urban & Systems</option>
                <option value="Education">Education</option>
                <option value="Research Methods">Research Methods</option>
                <option value="Technology">Technology</option>
              </select>
            </div>
            
            <div class="filter-container">
              <select id="difficultyFilter" onchange="filterCourses()" aria-label="Filter by difficulty">
                <option value="">All Levels</option>
                <option value="beginner">Beginner</option>
                <option value="intermediate">Intermediate</option>
                <option value="advanced">Advanced</option>
              </select>
            </div>
          </div>

          <div class="course-count" aria-live="polite">
            Showing <span id="visibleCount">33</span> of <span id="totalCount">33</span> courses
          </div>
          <div class="comparison-tools">
            <div class="view-toggle" role="group" aria-label="View options">
              <button class="view-btn active" onclick="toggleView('grid', event)" title="Grid view" aria-label="Switch to grid view" aria-pressed="true">
                <i class="fas fa-th" aria-hidden="true"></i>
              </button>
              <button class="view-btn" onclick="toggleView('list', event)" title="List view" aria-label="Switch to list view" aria-pressed="false">
                <i class="fas fa-list" aria-hidden="true"></i>
              </button>
            </div>
            <button class="compare-btn" id="compareBtn" onclick="openModal('comparisonModal')">
              <i class="fas fa-balance-scale"></i> Compare Selected (<span id="compareCount">0</span>)
            </button>
          </div>
        </div>

        <!-- Course Grid -->
        <div class="courses-grid" id="courseContainer">
          <!-- Course cards will be generated by JavaScript -->
        </div>

        <!-- No Results -->
        <div class="no-results hidden" id="noResults">
          <i class="fas fa-search"></i>
          <h3>No courses found</h3>
          <p>Try adjusting your search terms or filters to find what you're looking for.</p>
        </div>
      </div>
    </section>

    <!-- Labs Section -->
    <section id="labs" class="labs-section">
      <div class="container">
        <div class="section-header">
          <div class="section-icon"><i class="fas fa-flask"></i></div>
          <h2>ImpactMojo Labs</h2>
          <p>Interactive tools and experimental features for development practitioners</p>
        </div>
        
        <div class="labs-grid" id="labsContainer">
          <!-- Lab cards will be generated by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Notes Section -->
    <section id="notes" class="notes-section">
      <div class="container">
        <div class="section-header">
          <div class="section-icon"><i class="fas fa-sticky-note"></i></div>
          <h2>Course Notes</h2>
          <p>Access and manage your personal notes from all courses</p>
        </div>
        
        <div style="background: var(--card-bg); border-radius: var(--border-radius); padding: 2rem; box-shadow: var(--shadow); margin-top: 2rem;">
          <p style="text-align: center; color: var(--text-secondary);">
            <i class="fas fa-lock" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
            Please <a href="#" onclick="openAuthModal('login')" style="color: var(--secondary-color);">login</a> to access your notes
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>About ImpactMojo</h4>
          <p>Bridging theory and practice in development work across South Asia through evidence-based education.</p>
        </div>
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#courses">All Courses</a></li>
            <li><a href="#labs">Live Labs</a></li>
            <li><a href="#notes">Course Notes</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Connect</h4>
          <div class="social-links">
            <a href="mailto:hello@impactmojo.in" aria-label="Email">
              <i class="fas fa-envelope"></i>
            </a>
            <a href="https://linkedin.com/company/impactmojo" target="_blank" rel="noopener" aria-label="LinkedIn">
              <i class="fab fa-linkedin"></i>
            </a>
          </div>
        </div>
        <div class="footer-section">
          <p>Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>.</p>
          <p>Created by Dr. Varna Sri Raman • Made with ❤️ for development practitioners across South Asia</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Authentication Modal -->
  <div id="auth-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeAuthModal()">&times;</span>
      <div id="auth-form-container">
        <!-- Authentication forms will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Enhanced Dashboard Modal -->
  <div id="dashboard-modal" class="modal">
    <div class="modal-content dashboard-content">
      <span class="close" onclick="closeDashboard()">&times;</span>
      <div id="dashboard-container">
        <!-- Dashboard content will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Course Comparison Modal -->
  <div id="comparisonModal" class="modal">
    <div class="modal-content large">
      <span class="close" onclick="closeModal('comparisonModal')">&times;</span>
      <h2><i class="fas fa-balance-scale"></i> Course Comparison</h2>
      <div id="comparisonContent">
        <p>Select courses to compare by checking the boxes on course cards.</p>
      </div>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div id="loading" class="loading-overlay" style="display: none;">
    <div class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i>
      <p>Loading...</p>
    </div>
  </div>

  <!-- External JavaScript Files -->
  <script src="course-data.js"></script>
  <script src="firebase-auth.js"></script>
  <script src="main.js"></script>
</body>
</html>