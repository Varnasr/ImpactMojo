<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ImpactMojo 101 Knowledge Series - Development Education for South Asia</title>
  <meta name="description" content="Curated library of development education courses covering justice, equity, and development practice in India and South Asia. Free, theory-grounded, context-applied knowledge decks.">
  <meta name="keywords" content="development education, South Asia, India, social justice, data feminism, development economics, public policy">
  <meta name="author" content="Dr. Varna Sri Raman">
  
  <!-- Enhanced Open Graph tags -->
  <meta property="og:title" content="ImpactMojo 101 Knowledge Series - Free Development Education">
  <meta property="og:description" content="Free development education courses for India and South Asia. 32+ comprehensive courses covering data analysis, gender studies, economics, climate change and more.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.impactmojo.in">
  <meta property="og:image" content="https://www.impactmojo.in/assets/images/impactmojo-banner.jpg">
  <meta property="og:site_name" content="ImpactMojo">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ImpactMojo 101 Knowledge Series">
  <meta name="twitter:description" content="Free development education courses for India and South Asia">
  <meta name="twitter:image" content="https://www.impactmojo.in/assets/images/impactmojo-banner.jpg">
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "ImpactMojo",
    "description": "Curated library of development education courses for South Asia",
    "url": "https://www.impactmojo.in",
    "founder": {
      "@type": "Person",
      "name": "Dr. Varna Sri Raman"
    },
    "offers": {
      "@type": "Course",
      "courseMode": "online",
      "educationalCredentialAwarded": "None - Free Educational Resource",
      "provider": {
        "@type": "Organization",
        "name": "ImpactMojo"
      }
    }
  }
  </script>

  <style>
    /* Skip link for keyboard navigation */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: var(--primary-color);
      color: white;
      padding: 8px;
      text-decoration: none;
      border-radius: 4px;
      z-index: 9999;
      font-weight: bold;
    }
    
    .skip-link:focus {
      top: 6px;
    }

    /* Respect reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      
      .course-card:hover {
        transform: none;
      }
      
      .fab-btn:hover,
      .theme-toggle:hover {
        transform: none;
      }
    }

    :root {
      --primary-color: #2c3e50;
      --accent-color: #e74c3c;
      --secondary-color: #3498db;
      --success-color: #27ae60;
      --warning-color: #f39c12;
      --info-color: #9b59b6;
      --light-bg: #ffffff;
      --card-bg: #f8f9fa;
      --border-color: #e9ecef;
      --text-primary: #1a1a1a;
      --text-secondary: #6c757d;
      --shadow: 0 2px 12px rgba(0,0,0,0.1);
      --shadow-hover: 0 4px 20px rgba(0,0,0,0.15);
      --border-radius: 12px;
      --transition: all 0.3s ease;
      --focus-color: #4a90e2;
      
      /* Enhanced color system for topics */
      --economics-color: #27ae60;
      --economics-light: rgba(39, 174, 96, 0.1);
      --gender-color: #9b59b6;
      --gender-light: rgba(155, 89, 182, 0.1);
      --justice-color: #e74c3c;
      --justice-light: rgba(231, 76, 60, 0.1);
      --climate-color: #16a085;
      --climate-light: rgba(22, 160, 133, 0.1);
      --data-color: #3498db;
      --data-light: rgba(52, 152, 219, 0.1);
      --research-color: #f39c12;
      --research-light: rgba(243, 156, 18, 0.1);
      --development-color: #2c3e50;
      --development-light: rgba(44, 62, 80, 0.1);
      --media-color: #e67e22;
      --media-light: rgba(230, 126, 34, 0.1);
      --identity-color: #8e44ad;
      --identity-light: rgba(142, 68, 173, 0.1);
      --livelihoods-color: #27ae60;
      --livelihoods-light: rgba(39, 174, 96, 0.1);
      --health-color: #e74c3c;
      --health-light: rgba(231, 76, 60, 0.1);
      --education-color: #3498db;
      --education-light: rgba(52, 152, 219, 0.1);
      --systems-color: #34495e;
      --systems-light: rgba(52, 73, 94, 0.1);
    }

    body.dark {
      --light-bg: #1a1a1a;
      --card-bg: #2d2d2d;
      --border-color: #404040;
      --text-primary: #f0f0f0;
      --text-secondary: #b8b8b8;
      --info-color: #bb86fc;
      --secondary-color: #60a5fa;
      --shadow: 0 2px 12px rgba(0,0,0,0.3);
      --shadow-hover: 0 4px 20px rgba(0,0,0,0.4);
    }

    /* Screen reader only text */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Enhanced focus indicators for accessibility */
    *:focus {
      outline: 2px solid var(--focus-color);
      outline-offset: 2px;
    }

    button:focus,
    a:focus,
    input:focus,
    select:focus,
    textarea:focus {
      outline: 2px solid var(--focus-color);
      outline-offset: 2px;
      box-shadow: 0 0 0 4px rgba(74, 144, 226, 0.2);
    }

    .course-card:focus-within {
      outline: 2px solid var(--focus-color);
      outline-offset: 2px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--light-bg);
      color: var(--text-primary);
      margin: 0;
      padding: 0;
      line-height: 1.6;
      transition: var(--transition);
    }

    .banner {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    }

    .header {
      position: relative;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 3rem 0;
      text-align: center;
    }

    .header h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      margin: 0 0 1rem 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .header p {
      font-size: clamp(1rem, 2.5vw, 1.2rem);
      max-width: 800px;
      margin: 0 auto;
      opacity: 0.95;
      font-weight: 300;
      padding: 0 1rem;
    }

    .container {
      max-width: 1400px;
      margin: auto;
      padding: 1rem;
      position: relative;
    }

    @media (min-width: 1200px) {
      .container {
        max-width: 1500px;
        padding: 2rem;
      }
      
      .courses-grid {
        grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
        gap: 2rem;
      }
      
      .course-card {
        padding: 2rem;
      }
      
      .search-filters {
        padding: 2rem;
      }
      
      .header h1 {
        font-size: 3.5rem;
      }
      
      .header p {
        font-size: 1.3rem;
      }
    }

    .theme-toggle {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 1000;
      font-size: 1.2rem;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .theme-toggle:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-hover);
    }

    .fab-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .fab-btn {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--secondary-color);
      color: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: var(--transition);
    }

    .fab-btn:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-hover);
    }

    .fab-btn.feedback { background: var(--warning-color); }
    .fab-btn.suggest { background: var(--success-color); }
    .fab-btn.question { background: var(--info-color); }
    .fab-btn.compare { background: var(--accent-color); }

    .latest-additions {
      background: linear-gradient(135deg, var(--info-color), var(--secondary-color));
      color: white;
      padding: 2rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .latest-additions::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
    }

    .latest-additions h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: 600;
      margin: 0 0 1rem 0;
      position: relative;
      z-index: 1;
    }

    .latest-additions ul {
      list-style: none;
      padding: 0;
      margin: 0;
      position: relative;
      z-index: 1;
    }

    .latest-additions li {
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      font-weight: 500;
    }

    .latest-additions li:last-child {
      border-bottom: none;
    }

    .latest-additions .date {
      font-size: 0.85rem;
      opacity: 0.8;
      font-weight: 400;
    }

    /* Learning Paths Section */
    .learning-paths {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border-color);
    }

    .learning-paths h3 {
      margin: 0 0 1.5rem 0;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .paths-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
    }

    .path-card {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      transition: var(--transition);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .path-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      transition: var(--transition);
    }

    .path-card[data-path="data-analysis"]::before { background: var(--data-color); }
    .path-card[data-path="gender-studies"]::before { background: var(--gender-color); }
    .path-card[data-path="policy-economics"]::before { background: var(--economics-color); }
    .path-card[data-path="research-methods"]::before { background: var(--research-color); }

    .path-card:hover {
      box-shadow: var(--shadow);
      transform: translateY(-2px);
    }

    .path-card h4 {
      margin: 0 0 0.5rem 0;
      color: var(--secondary-color);
      font-size: 1.1rem;
    }

    .path-card .path-description {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
    }

    .path-courses {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .path-course {
      background: var(--secondary-color);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    /* Popular Courses Section */
    .popular-courses {
      background: linear-gradient(135deg, var(--success-color), var(--secondary-color));
      color: white;
      padding: 2rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
    }

    .popular-courses h3 {
      margin: 0 0 1rem 0;
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
    }

    .popular-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }

    .popular-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: rgba(255,255,255,0.1);
      padding: 1rem;
      border-radius: var(--border-radius);
    }

    .popular-rank {
      background: rgba(255,255,255,0.2);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background-color: var(--light-bg);
      margin: 2% auto;
      padding: 2rem;
      border-radius: var(--border-radius);
      width: min(95%, 900px);
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-hover);
      position: relative;
    }

    .modal-content.large {
      width: min(95%, 1200px);
    }

    .close {
      position: absolute;
      right: 1rem;
      top: 1rem;
      color: var(--text-secondary);
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      transition: var(--transition);
    }

    .close:hover {
      color: var(--accent-color);
    }

    .modal h2 {
      color: var(--text-primary);
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 0.75rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      background: var(--light-bg);
      color: var(--text-primary);
      font-family: inherit;
      transition: var(--transition);
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .submit-btn {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 0.75rem 2rem;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      width: 100%;
    }

    .submit-btn:hover {
      background: #2980b9;
      transform: translateY(-1px);
    }

    .newsletter {
      background: linear-gradient(135deg, var(--secondary-color), var(--info-color));
      color: white;
      padding: 2rem;
      border-radius: var(--border-radius);
      margin: 3rem 0;
      text-align: center;
    }

    .newsletter h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin: 0 0 1rem 0;
    }

    .newsletter-form {
      display: flex;
      gap: 1rem;
      max-width: 400px;
      margin: 1rem auto 0;
    }

    .newsletter-form input {
      flex: 1;
      padding: 0.75rem;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
    }

    .newsletter-form button {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .newsletter-form button:hover {
      background: #c0392b;
    }

    .social-share {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin: 2rem 0;
      flex-wrap: wrap;
    }

    .share-btn {
      padding: 0.75rem;
      border-radius: 50%;
      color: white;
      text-decoration: none;
      font-size: 1.3rem;
      transition: var(--transition);
      width: 55px;
      height: 55px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      position: relative;
      overflow: hidden;
    }

    .share-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .share-btn:hover::before {
      left: 100%;
    }

    .share-btn:hover {
      transform: scale(1.15);
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }

    .share-btn.twitter { background: linear-gradient(135deg, #1da1f2, #0d8bd9); }
    .share-btn.linkedin { background: linear-gradient(135deg, #0077b5, #005582); }
    .share-btn.whatsapp { background: linear-gradient(135deg, #25d366, #1ebe57); }
    .share-btn.email { background: linear-gradient(135deg, var(--accent-color), #c0392b); }

    .recently-viewed {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      border: 1px solid var(--border-color);
    }

    .recently-viewed h4 {
      margin: 0 0 1rem 0;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .recent-course {
      display: inline-block;
      background: var(--secondary-color);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      text-decoration: none;
      font-size: 0.9rem;
      margin: 0.25rem;
      transition: var(--transition);
    }

    .recent-course:hover {
      background: #2980b9;
      color: white;
    }

    .author {
      background: var(--card-bg);
      color: var(--text-primary);
      border-left: 4px solid var(--secondary-color);
      padding: 2rem;
      margin-top: 3rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      display: flex;
      gap: 2rem;
      align-items: flex-start;
    }

    .author-photo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--secondary-color);
      flex-shrink: 0;
    }

    .author-content {
      flex: 1;
    }

    .author-content h3 {
      margin: 0 0 1rem 0;
      color: var(--text-primary);
      font-size: 1.4rem;
    }

    .coaching-cta {
      background: linear-gradient(135deg, var(--success-color), var(--secondary-color));
      color: white;
      padding: 1rem 1.5rem;
      border-radius: var(--border-radius);
      margin: 1rem 0;
      text-align: center;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      display: block;
      text-decoration: none;
    }

    .coaching-cta:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
      color: white;
    }

    .author-links {
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .author-links a {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.25rem;
      background: var(--secondary-color);
      color: white;
      text-decoration: none;
      border-radius: var(--border-radius);
      font-weight: 500;
      transition: var(--transition);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
    }

    .author-links a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .author-links a:hover::before {
      left: 100%;
    }

    .author-links a:hover {
      background: #2980b9;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .search-filters {
      background: var(--card-bg);
      padding: 1.5rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
    }

    .search-box {
      position: relative;
      margin-bottom: 1.5rem;
    }

    .search-box input {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      font-size: 1.1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      background: var(--light-bg);
      color: var(--text-primary);
      outline: none;
      transition: var(--transition);
    }

    .search-box input:focus {
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }

    .search-box i {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
    }

    /* Advanced Search */
    .advanced-search {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin-top: 1rem;
      display: none;
    }

    .advanced-search.active {
      display: block;
    }

    .search-operators {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .operator-btn {
      padding: 0.25rem 0.75rem;
      border: 1px solid var(--border-color);
      background: var(--light-bg);
      border-radius: 15px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: var(--transition);
    }

    .operator-btn:hover,
    .operator-btn.active {
      background: var(--secondary-color);
      color: white;
      border-color: var(--secondary-color);
    }

    .saved-searches {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .saved-search {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--info-color);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 15px;
      font-size: 0.8rem;
      cursor: pointer;
    }

    .filters-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      align-items: end;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
    }

    .filter-group label {
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    select, button {
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      background: var(--light-bg);
      color: var(--text-primary);
      cursor: pointer;
      transition: var(--transition);
    }

    select:focus, button:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
    }

    .clear-filters {
      background: var(--accent-color);
      color: white;
      border: none;
      font-weight: 500;
    }

    .clear-filters:hover {
      background: #c0392b;
    }

    /* Enhanced topic filter styling */
    .topic-filter-enhanced {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .topic-filter-btn {
      padding: 0.75rem 1rem;
      border: 2px solid var(--border-color);
      background: var(--light-bg);
      color: var(--text-secondary);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
      font-weight: 500;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .topic-filter-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      transition: var(--transition);
      transform: scaleX(0);
    }

    .topic-filter-btn:hover::before,
    .topic-filter-btn.active::before {
      transform: scaleX(1);
    }

    .topic-filter-btn.active {
      color: white;
      border-color: transparent;
    }

    /* Topic-specific styling */
    .topic-filter-btn[data-topic="economics"]::before { background: var(--economics-color); }
    .topic-filter-btn[data-topic="economics"].active { background: var(--economics-color); }
    .topic-filter-btn[data-topic="gender"]::before { background: var(--gender-color); }
    .topic-filter-btn[data-topic="gender"].active { background: var(--gender-color); }
    .topic-filter-btn[data-topic="justice"]::before { background: var(--justice-color); }
    .topic-filter-btn[data-topic="justice"].active { background: var(--justice-color); }
    .topic-filter-btn[data-topic="climate"]::before { background: var(--climate-color); }
    .topic-filter-btn[data-topic="climate"].active { background: var(--climate-color); }
    .topic-filter-btn[data-topic="data"]::before { background: var(--data-color); }
    .topic-filter-btn[data-topic="data"].active { background: var(--data-color); }
    .topic-filter-btn[data-topic="research"]::before { background: var(--research-color); }
    .topic-filter-btn[data-topic="research"].active { background: var(--research-color); }
    .topic-filter-btn[data-topic="development"]::before { background: var(--development-color); }
    .topic-filter-btn[data-topic="development"].active { background: var(--development-color); }
    .topic-filter-btn[data-topic="media"]::before { background: var(--media-color); }
    .topic-filter-btn[data-topic="media"].active { background: var(--media-color); }
    .topic-filter-btn[data-topic="identity"]::before { background: var(--identity-color); }
    .topic-filter-btn[data-topic="identity"].active { background: var(--identity-color); }
    .topic-filter-btn[data-topic="livelihoods"]::before { background: var(--livelihoods-color); }
    .topic-filter-btn[data-topic="livelihoods"].active { background: var(--livelihoods-color); }
    .topic-filter-btn[data-topic="health"]::before { background: var(--health-color); }
    .topic-filter-btn[data-topic="health"].active { background: var(--health-color); }
    .topic-filter-btn[data-topic="education"]::before { background: var(--education-color); }
    .topic-filter-btn[data-topic="education"].active { background: var(--education-color); }
    .topic-filter-btn[data-topic="systems"]::before { background: var(--systems-color); }
    .topic-filter-btn[data-topic="systems"].active { background: var(--systems-color); }

    .stats-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding: 1rem;
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .course-count {
      font-weight: 600;
      color: var(--text-primary);
    }

    .view-toggle {
      display: flex;
      gap: 0.5rem;
    }

    .view-btn {
      padding: 0.5rem 1rem;
      border: 1px solid var(--border-color);
      background: var(--light-bg);
      color: var(--text-primary);
      cursor: pointer;
      border-radius: 6px;
      transition: var(--transition);
    }

    .view-btn.active {
      background: var(--secondary-color);
      color: white;
      border-color: var(--secondary-color);
    }

    /* Course Comparison */
    .comparison-tools {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .compare-btn {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      display: none;
    }

    .compare-btn.active {
      display: block;
    }

    .compare-btn:hover {
      background: #c0392b;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 2rem;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    .comparison-table th {
      background: var(--card-bg);
      font-weight: 600;
      color: var(--text-primary);
    }

    .courses-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .courses-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 3rem;
    }

    .course-card {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
    }

    .course-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--secondary-color), var(--accent-color));
    }

    .course-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
    }

    .course-card.selected {
      border: 2px solid var(--accent-color);
      transform: translateY(-2px);
    }

    /* Enhanced topic-based styling */
    .course-card.economics::before { background: linear-gradient(90deg, var(--economics-color), rgba(39, 174, 96, 0.7)); }
    .course-card.economics { border-left: 4px solid var(--economics-color); }
    .course-card.economics .course-icon { background: var(--economics-color); }

    .course-card.gender::before { background: linear-gradient(90deg, var(--gender-color), rgba(155, 89, 182, 0.7)); }
    .course-card.gender { border-left: 4px solid var(--gender-color); }
    .course-card.gender .course-icon { background: var(--gender-color); }

    .course-card.justice::before { background: linear-gradient(90deg, var(--justice-color), rgba(231, 76, 60, 0.7)); }
    .course-card.justice { border-left: 4px solid var(--justice-color); }
    .course-card.justice .course-icon { background: var(--justice-color); }

    .course-card.climate::before { background: linear-gradient(90deg, var(--climate-color), rgba(22, 160, 133, 0.7)); }
    .course-card.climate { border-left: 4px solid var(--climate-color); }
    .course-card.climate .course-icon { background: var(--climate-color); }

    .course-card.data::before { background: linear-gradient(90deg, var(--data-color), rgba(52, 152, 219, 0.7)); }
    .course-card.data { border-left: 4px solid var(--data-color); }
    .course-card.data .course-icon { background: var(--data-color); }

    .course-card.research::before { background: linear-gradient(90deg, var(--research-color), rgba(243, 156, 18, 0.7)); }
    .course-card.research { border-left: 4px solid var(--research-color); }
    .course-card.research .course-icon { background: var(--research-color); }

    .course-card.development::before { background: linear-gradient(90deg, var(--development-color), rgba(44, 62, 80, 0.7)); }
    .course-card.development { border-left: 4px solid var(--development-color); }
    .course-card.development .course-icon { background: var(--development-color); }

    .course-card.media::before { background: linear-gradient(90deg, var(--media-color), rgba(230, 126, 34, 0.7)); }
    .course-card.media { border-left: 4px solid var(--media-color); }
    .course-card.media .course-icon { background: var(--media-color); }

    .course-card.identity::before { background: linear-gradient(90deg, var(--identity-color), rgba(142, 68, 173, 0.7)); }
    .course-card.identity { border-left: 4px solid var(--identity-color); }
    .course-card.identity .course-icon { background: var(--identity-color); }

    .course-card.livelihoods::before { background: linear-gradient(90deg, var(--livelihoods-color), rgba(39, 174, 96, 0.7)); }
    .course-card.livelihoods { border-left: 4px solid var(--livelihoods-color); }
    .course-card.livelihoods .course-icon { background: var(--livelihoods-color); }

    .course-card.health::before { background: linear-gradient(90deg, var(--health-color), rgba(231, 76, 60, 0.7)); }
    .course-card.health { border-left: 4px solid var(--health-color); }
    .course-card.health .course-icon { background: var(--health-color); }

    .course-card.education::before { background: linear-gradient(90deg, var(--education-color), rgba(52, 152, 219, 0.7)); }
    .course-card.education { border-left: 4px solid var(--education-color); }
    .course-card.education .course-icon { background: var(--education-color); }

    .course-card.systems::before { background: linear-gradient(90deg, var(--systems-color), rgba(52, 73, 94, 0.7)); }
    .course-card.systems { border-left: 4px solid var(--systems-color); }
    .course-card.systems .course-icon { background: var(--systems-color); }

    .course-header {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .course-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      flex-shrink: 0;
    }

    .course-title {
      flex: 1;
    }

    .course-title h3 {
      margin: 0 0 0.5rem 0;
      font-size: 1.3rem;
      font-weight: 600;
      line-height: 1.3;
    }

    .course-title a {
      color: var(--text-primary);
      text-decoration: none;
      transition: var(--transition);
    }

    .course-title a:hover {
      color: var(--secondary-color);
    }

    /* Course Details Enhancement */
    .course-details {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin: 1rem 0;
      display: none;
    }

    .course-details.active {
      display: block;
    }

    .course-prerequisites,
    .course-outcomes,
    .course-audience {
      margin-bottom: 1rem;
    }

    .course-prerequisites h5,
    .course-outcomes h5,
    .course-audience h5 {
      margin: 0 0 0.5rem 0;
      color: var(--secondary-color);
      font-size: 0.9rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .course-prerequisites ul,
    .course-outcomes ul {
      margin: 0;
      padding-left: 1.5rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .course-audience p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .course-meta {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .meta-tag {
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      border: 1px solid var(--border-color);
      background: var(--light-bg);
      color: var(--text-secondary);
    }

    /* Enhanced meta tags with topic colors */
    .meta-tag.topic-economics { background: var(--economics-light); color: var(--economics-color); border-color: var(--economics-color); }
    .meta-tag.topic-gender { background: var(--gender-light); color: var(--gender-color); border-color: var(--gender-color); }
    .meta-tag.topic-justice { background: var(--justice-light); color: var(--justice-color); border-color: var(--justice-color); }
    .meta-tag.topic-climate { background: var(--climate-light); color: var(--climate-color); border-color: var(--climate-color); }
    .meta-tag.topic-data { background: var(--data-light); color: var(--data-color); border-color: var(--data-color); }
    .meta-tag.topic-research { background: var(--research-light); color: var(--research-color); border-color: var(--research-color); }
    .meta-tag.topic-development { background: var(--development-light); color: var(--development-color); border-color: var(--development-color); }
    .meta-tag.topic-media { background: var(--media-light); color: var(--media-color); border-color: var(--media-color); }
    .meta-tag.topic-identity { background: var(--identity-light); color: var(--identity-color); border-color: var(--identity-color); }
    .meta-tag.topic-livelihoods { background: var(--livelihoods-light); color: var(--livelihoods-color); border-color: var(--livelihoods-color); }
    .meta-tag.topic-health { background: var(--health-light); color: var(--health-color); border-color: var(--health-color); }
    .meta-tag.topic-education { background: var(--education-light); color: var(--education-color); border-color: var(--education-color); }
    .meta-tag.topic-systems { background: var(--systems-light); color: var(--systems-color); border-color: var(--systems-color); }

    .course-description {
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }

    /* Course Stats */
    .course-stats {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .course-stat {
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }

    /* Course Rating */
    .course-rating {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .stars {
      display: flex;
      gap: 0.1rem;
    }

    .star {
      color: #ddd;
      cursor: pointer;
      transition: var(--transition);
    }

    .star.active,
    .star:hover {
      color: var(--warning-color);
    }

    .rating-display {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }

    .rating-count {
      color: var(--text-secondary);
    }

    /* Related Extras Section */
    .course-extras {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin: 1rem 0;
    }

    .course-extras h5 {
      margin: 0 0 0.75rem 0;
      color: var(--text-primary);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .extras-list {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .extras-item {
      background: var(--info-color);
      color: white;
      padding: 0.4rem 0.8rem;
      border-radius: var(--border-radius);
      text-decoration: none;
      font-size: 0.8rem;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .extras-item:hover {
      background: #8e44ad;
      color: white;
      transform: translateY(-1px);
    }

    /* Recommendations */
    .course-recommendations {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin-top: 1rem;
    }

    .course-recommendations h5 {
      margin: 0 0 1rem 0;
      color: var(--text-primary);
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .recommendations-list {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .recommendation-item {
      background: var(--secondary-color);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius);
      text-decoration: none;
      font-size: 0.8rem;
      transition: var(--transition);
    }

    .recommendation-item:hover {
      background: #2980b9;
      color: white;
    }

    .course-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .course-actions-left {
      display: flex;
      gap: 0.5rem;
    }

    .launch-btn {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius);
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: var(--transition);
      font-size: 0.9rem;
    }

    .launch-btn:hover {
      background: #2980b9;
      transform: translateY(-1px);
    }

    .secondary-btn {
      background: none;
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      padding: 0.75rem 1rem;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .secondary-btn:hover {
      border-color: var(--secondary-color);
      color: var(--secondary-color);
    }

    .bookmark-btn {
      background: none;
      border: 1px solid var(--border-color);
      color: var(--text-secondary);
      padding: 0.75rem;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
    }

    .bookmark-btn:hover {
      color: var(--warning-color);
      border-color: var(--warning-color);
    }

    .bookmark-btn.bookmarked {
      color: var(--warning-color);
      border-color: var(--warning-color);
      background: rgba(243, 156, 18, 0.1);
    }

    .compare-checkbox {
      margin-right: 0.5rem;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin: 3rem 0 2rem 0;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--border-color);
    }

    .section-header h2 {
      font-size: clamp(1.5rem, 4vw, 2rem);
      font-weight: 600;
      margin: 0;
      color: var(--text-primary);
    }

    .section-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--secondary-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .extras {
      background: var(--card-bg);
      border-radius: var(--border-radius);
      padding: 2rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border-color);
    }

    .extras p strong a {
      color: var(--secondary-color);
      text-decoration: none;
    }

    .extras p strong a:hover {
      text-decoration: underline;
    }

    .extras-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .extras-card {
      background: var(--light-bg);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .extras-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
    }

    .extras-card[data-extra-type="handouts"]::before { background: var(--education-color); }
    .extras-card[data-extra-type="research"]::before { background: var(--research-color); }
    .extras-card[data-extra-type="health"]::before { background: var(--health-color); }
    .extras-card[data-extra-type="data"]::before { background: var(--data-color); }

    .extras-card:hover {
      box-shadow: var(--shadow);
      transform: translateY(-2px);
    }

    .extras-card h4 {
      color: var(--text-primary);
      margin: 0 0 1rem 0;
      font-size: 1.2rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .footer {
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-top: 4rem;
      border-top: 1px solid var(--border-color);
      padding-top: 2rem;
      text-align: center;
    }

    .footer a {
      color: var(--secondary-color);
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    .no-results {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-secondary);
    }

    .no-results i {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    /* Print Styles */
    @media print {
      .theme-toggle,
      .fab-container,
      .social-share,
      .newsletter,
      .author {
        display: none;
      }

      .course-card {
        break-inside: avoid;
        margin-bottom: 1rem;
        box-shadow: none;
        border: 1px solid #ddd;
      }

      .course-actions {
        display: none;
      }

      body {
        font-size: 12pt;
        line-height: 1.4;
      }

      .header {
        color: black;
        background: white;
        border-bottom: 2px solid #000;
      }
    }

    @media (max-width: 768px) {
      .container {
        padding: 0.5rem;
      }
      
      .header {
        padding: 2rem 0;
      }
      
      .courses-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .filters-row {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .topic-filter-enhanced {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      }
      
      .course-meta {
        gap: 0.25rem;
      }
      
      .course-actions {
        flex-direction: column;
        gap: 0.5rem;
        align-items: stretch;
      }

      .course-actions-left {
        width: 100%;
        justify-content: space-between;
      }
      
      .stats-bar {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
        text-align: center;
      }

      .comparison-tools {
        flex-direction: column;
        align-items: stretch;
      }
      
      .author {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
      }
      
      .author-photo {
        align-self: center;
      }
      
      .fab-container {
        bottom: 15px;
        right: 15px;
      }
      
      .fab-btn {
        width: 50px;
        height: 50px;
        font-size: 1.1rem;
      }
      
      .modal-content {
        margin: 5% auto;
        padding: 1.5rem;
        width: 95%;
      }
      
      .latest-additions {
        padding: 1.5rem;
      }
      
      .extras-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      
      .course-card {
        padding: 1rem;
      }
      
      .search-filters {
        padding: 1rem;
      }

      .newsletter-form {
        flex-direction: column;
        gap: 1rem;
      }

      .social-share {
        gap: 0.75rem;
      }

      .paths-grid {
        grid-template-columns: 1fr;
      }

      .popular-list {
        grid-template-columns: 1fr;
      }

      .search-operators {
        justify-content: center;
      }

      .comparison-table {
        font-size: 0.8rem;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 0.5rem;
      }
    }

    @media (max-width: 480px) {
      .course-title h3 {
        font-size: 1.1rem;
      }
      
      .course-description {
        font-size: 0.9rem;
      }
      
      .launch-btn {
        padding: 0.6rem 1rem;
        font-size: 0.85rem;
      }
      
      .meta-tag {
        font-size: 0.75rem;
        padding: 0.2rem 0.6rem;
      }

      .share-btn {
        width: 45px;
        height: 45px;
        font-size: 1.1rem;
      }

      .topic-filter-enhanced {
        grid-template-columns: 1fr 1fr;
      }
    }

    .hidden {
      display: none !important;
    }

    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Lazy loading placeholder */
    .lazy-load {
      opacity: 0;
      transition: opacity 0.3s;
    }

    .lazy-load.loaded {
      opacity: 1;
    }
  </style>
</head>
<body>

<a href="#main-content" class="skip-link">Skip to main content</a>

<header class="header" role="banner">
  <div class="container">
    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark/light theme" aria-label="Toggle dark and light theme">ðŸŒ™</button>
    <h1>ImpactMojo 101 Knowledge Series</h1>
    <p><strong>ImpactMojo</strong> is a curated library of full-length knowledge decks that explore justice, equity, and development practice in India and South Asia. Each one is grounded in theory, applied in context, and ready for real-world use by educators, practitioners, and social researchers.</p>
  </div>
</header>

<!-- Floating Action Buttons -->
<aside class="fab-container" role="complementary" aria-label="Quick actions">
  <button class="fab-btn feedback" onclick="openModal('feedbackModal')" title="Give feedback about ImpactMojo" aria-label="Give feedback about ImpactMojo">
    <i class="fas fa-comment" aria-hidden="true"></i>
  </button>
  <button class="fab-btn suggest" onclick="openModal('suggestModal')" title="Suggest a new course" aria-label="Suggest a new course">
    <i class="fas fa-lightbulb" aria-hidden="true"></i>
  </button>
  <button class="fab-btn question" onclick="openModal('questionModal')" title="Ask a question" aria-label="Ask a question">
    <i class="fas fa-question" aria-hidden="true"></i>
  </button>
  <button class="fab-btn compare" onclick="openModal('comparisonModal')" title="Compare courses" aria-label="Compare selected courses" style="display: none;">
    <i class="fas fa-balance-scale" aria-hidden="true"></i>
  </button>
</aside>

<main id="main-content" role="main">

<div class="container">
  <!-- Latest Additions Box -->
  <div class="latest-additions">
    <h3>Latest Additions</h3>
    <ul>
      <li>Education and Pedagogy 101 <span class="date">â€¢ Added May 2025</span></li>
      <li>Public Health 101 <span class="date">â€¢ Added May 2025</span></li>
      <li>Livelihoods 101 <span class="date">â€¢ Added April 2025</span></li>
      <li>Gender Studies 101 <span class="date">â€¢ Added April 2025</span></li>
    </ul>
  </div>

  <!-- Learning Paths -->
  <div class="learning-paths">
    <h3><i class="fas fa-route"></i> Recommended Learning Paths</h3>
    <div class="paths-grid">
      <div class="path-card" data-path="data-analysis" onclick="applyLearningPath('data-analysis')">
        <h4>Data Analysis Track</h4>
        <p class="path-description">Master data skills from basics to advanced analysis</p>
        <div class="path-courses">
          <span class="path-course">Data Literacy 101</span>
          <span class="path-course">EDA for Survey Data</span>
          <span class="path-course">Bivariate Analysis</span>
          <span class="path-course">Multivariate Analysis</span>
        </div>
      </div>
      
      <div class="path-card" data-path="gender-studies" onclick="applyLearningPath('gender-studies')">
        <h4>Gender Studies Pathway</h4>
        <p class="path-description">Comprehensive understanding of gender in development</p>
        <div class="path-courses">
          <span class="path-course">Gender Studies 101</span>
          <span class="path-course">Data Feminism 101</span>
          <span class="path-course">Care Economy</span>
          <span class="path-course">Women's Economic Empowerment</span>
        </div>
      </div>
      
      <div class="path-card" data-path="policy-economics" onclick="applyLearningPath('policy-economics')">
        <h4>Policy & Economics Track</h4>
        <p class="path-description">From basic economics to policy analysis</p>
        <div class="path-courses">
          <span class="path-course">Development Economics</span>
          <span class="path-course">Political Economy</span>
          <span class="path-course">Poverty & Inequality</span>
          <span class="path-course">Social Safety Nets</span>
        </div>
      </div>
      
      <div class="path-card" data-path="research-methods" onclick="applyLearningPath('research-methods')">
        <h4>Research Methods Journey</h4>
        <p class="path-description">Complete research toolkit for development work</p>
        <div class="path-courses">
          <span class="path-course">Research Ethics</span>
          <span class="path-course">Qualitative Research</span>
          <span class="path-course">Econometrics</span>
          <span class="path-course">MEL</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Popular Courses -->
  <div class="popular-courses">
    <h3>Most Popular Courses</h3>
    <div class="popular-list">
      <div class="popular-item">
        <div class="popular-rank">1</div>
        <div>
          <strong>Data Feminism 101</strong><br>
          <small>2,847 learners â€¢ 4.8â˜…</small>
        </div>
      </div>
      <div class="popular-item">
        <div class="popular-rank">2</div>
        <div>
          <strong>Social Safety Nets 101</strong><br>
          <small>2,156 learners â€¢ 4.7â˜…</small>
        </div>
      </div>
      <div class="popular-item">
        <div class="popular-rank">3</div>
        <div>
          <strong>Development Economics 101</strong><br>
          <small>1,923 learners â€¢ 4.6â˜…</small>
        </div>
      </div>
      <div class="popular-item">
        <div class="popular-rank">4</div>
        <div>
          <strong>Data Literacy 101</strong><br>
          <small>1,734 learners â€¢ 4.9â˜…</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Recently Viewed Courses -->
  <div class="recently-viewed" id="recentlyViewed" style="display: none;">
    <h4><i class="fas fa-history"></i> Recently Viewed</h4>
    <div id="recentCourses">
      <!-- Recently viewed courses will be populated by JavaScript -->
    </div>
  </div>

  <!-- Enhanced Social Sharing -->
  <div style="text-align: center; margin: 2rem 0;">
    <p style="margin-bottom: 1.5rem; color: var(--text-secondary); font-size: 1.1rem;">Share ImpactMojo with your network:</p>
    <div class="social-share">
      <a href="https://twitter.com/intent/tweet?text=Check%20out%20ImpactMojo%20-%20Free%20development%20education%20courses%20for%20South%20Asia&url=https://www.impactmojo.in" target="_blank" class="share-btn twitter" title="Share on Twitter" aria-label="Share ImpactMojo on Twitter">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.impactmojo.in" target="_blank" class="share-btn linkedin" title="Share on LinkedIn" aria-label="Share ImpactMojo on LinkedIn">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://wa.me/?text=Check%20out%20ImpactMojo%20-%20Free%20development%20education%20courses%20for%20South%20Asia%20https://www.impactmojo.in" target="_blank" class="share-btn whatsapp" title="Share on WhatsApp" aria-label="Share ImpactMojo on WhatsApp">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="mailto:?subject=ImpactMojo%20-%20Development%20Education&body=I%20thought%20you%20might%20be%20interested%20in%20this%20free%20resource%20for%20development%20education:%20https://www.impactmojo.in" class="share-btn email" title="Share via Email" aria-label="Share ImpactMojo via Email">
        <i class="fas fa-envelope"></i>
      </a>
    </div>
  </div>

  <div class="search-filters" role="search" aria-label="Course search and filters">
    <div class="search-box">
      <i class="fas fa-search" aria-hidden="true"></i>
      <input type="text" id="searchInput" placeholder="Search courses by title, description, or keywords..." aria-label="Search courses by title, description, or keywords">
      <button class="secondary-btn" onclick="toggleAdvancedSearch()" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); padding: 0.5rem;">
        <i class="fas fa-cog"></i>
      </button>
    </div>
    
    <!-- Enhanced Topic Filter -->
    <div style="margin-bottom: 1rem;">
      <label style="font-weight: 500; margin-bottom: 0.5rem; display: block;">Filter by Topic:</label>
      <div class="topic-filter-enhanced">
        <button class="topic-filter-btn active" data-topic="all" onclick="filterByTopic('all')">All Topics</button>
        <button class="topic-filter-btn" data-topic="climate" onclick="filterByTopic('climate')">Climate</button>
        <button class="topic-filter-btn" data-topic="data" onclick="filterByTopic('data')">Data</button>
        <button class="topic-filter-btn" data-topic="economics" onclick="filterByTopic('economics')">Economics</button>
        <button class="topic-filter-btn" data-topic="education" onclick="filterByTopic('education')">Education</button>
        <button class="topic-filter-btn" data-topic="gender" onclick="filterByTopic('gender')">Gender</button>
        <button class="topic-filter-btn" data-topic="health" onclick="filterByTopic('health')">Health</button>
        <button class="topic-filter-btn" data-topic="identity" onclick="filterByTopic('identity')">Identity</button>
        <button class="topic-filter-btn" data-topic="justice" onclick="filterByTopic('justice')">Justice</button>
        <button class="topic-filter-btn" data-topic="livelihoods" onclick="filterByTopic('livelihoods')">Livelihoods</button>
        <button class="topic-filter-btn" data-topic="media" onclick="filterByTopic('media')">Media</button>
        <button class="topic-filter-btn" data-topic="research" onclick="filterByTopic('research')">Research</button>
        <button class="topic-filter-btn" data-topic="systems" onclick="filterByTopic('systems')">Systems</button>
        <button class="topic-filter-btn" data-topic="development" onclick="filterByTopic('development')">Development</button>
      </div>
    </div>
    
    <!-- Advanced Search -->
    <div class="advanced-search" id="advancedSearch">
      <h5>Advanced Search Options</h5>
      <div class="search-operators">
        <button class="operator-btn" onclick="addOperator('AND')">AND</button>
        <button class="operator-btn" onclick="addOperator('OR')">OR</button>
        <button class="operator-btn" onclick="addOperator('NOT')">NOT</button>
        <button class="operator-btn" onclick="addOperator('\"\"')">"Exact Phrase"</button>
      </div>
      <div style="margin-bottom: 1rem;">
        <label>Saved Searches:</label>
        <div class="saved-searches" id="savedSearches">
          <!-- Populated by JavaScript -->
        </div>
        <button class="secondary-btn" onclick="saveCurrentSearch()" style="margin-left: 1rem;">
          <i class="fas fa-save"></i> Save Search
        </button>
      </div>
    </div>
    
    <div class="filters-row">
      <div class="filter-group">
        <label for="levelFilter">Difficulty Level:</label>
        <select id="levelFilter" onchange="filterDecks()">
          <option value="all">All Levels</option>
          <option value="beginner">Beginner</option>
          <option value="intermediate">Intermediate</option>
          <option value="advanced">Advanced</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label for="durationFilter">Duration:</label>
        <select id="durationFilter" onchange="filterDecks()">
          <option value="all">Any Duration</option>
          <option value="short">Short (< 2 hours)</option>
          <option value="medium">Medium (2-4 hours)</option>
          <option value="long">Long (4+ hours)</option>
        </select>
      </div>
      
      <div class="filter-group">
        <button class="clear-filters" onclick="clearAllFilters()">
          <i class="fas fa-times"></i> Clear Filters
        </button>
      </div>
    </div>
  </div>

  <div class="stats-bar">
    <div class="course-count" id="courseCount" role="status" aria-live="polite">
      Showing <span id="visibleCount">32</span> of <span id="totalCount">32</span> courses
    </div>
    <div class="comparison-tools">
      <div class="view-toggle" role="group" aria-label="View options">
        <button class="view-btn active" onclick="toggleView('grid')" title="Grid view" aria-label="Switch to grid view" aria-pressed="true">
          <i class="fas fa-th" aria-hidden="true"></i>
        </button>
        <button class="view-btn" onclick="toggleView('list')" title="List view" aria-label="Switch to list view" aria-pressed="false">
          <i class="fas fa-list" aria-hidden="true"></i>
        </button>
      </div>
      <button class="compare-btn" id="compareBtn" onclick="openModal('comparisonModal')">
        <i class="fas fa-balance-scale"></i> Compare Selected (<span id="compareCount">0</span>)
      </button>
      <button class="secondary-btn" onclick="window.print()">
        <i class="fas fa-print"></i> Print
      </button>
    </div>
  </div>

  <div class="courses-grid" id="courseContainer">
    
    <!-- Course cards with enhanced features will be generated by JavaScript -->
    
  </div>

  <div class="no-results hidden" id="noResults">
    <i class="fas fa-search"></i>
    <h3>No courses found</h3>
    <p>Try adjusting your search terms or filters to find what you're looking for.</p>
  </div>

  <div class="section-header">
    <div class="section-icon"><i class="fas fa-plus"></i></div>
    <h2>EXTRAS & RESOURCES</h2>
  </div>
  
  <div class="extras">
    <p>
      <strong><a href="https://github.com/Varnasr/ImpactMojo/tree/main/extras" target="_blank">Supplementary Resources for Development Education</a></strong><br>
      A comprehensive collection of practical tools and resources to support development research, data analysis, and educational practice across South Asian contexts.
    </p>
    
    <div class="extras-grid">
      <div class="extras-card" data-extra-type="handouts">
        <h4><i class="fas fa-chalkboard-teacher"></i> <a href="https://github.com/Varnasr/ImpactMojo/tree/main/extras/handouts" target="_blank" style="color: inherit; text-decoration: none;">Educational Handouts</a></h4>
        <p>Over 20 ready-to-use workshop modules covering Digital Development Ethics, Statistical Analysis, and South Asian Applications. Each designed for 75-90 minute classroom sessions.</p>
        <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-secondary);">
          <strong>Related to:</strong> Education & Pedagogy, Digital Development Ethics, Data Analysis courses
        </div>
      </div>
      
      <div class="extras-card" data-extra-type="research">
        <h4><i class="fas fa-flask"></i> <a href="https://github.com/Varnasr/ImpactMojo/tree/main/extras/research-design" target="_blank" style="color: inherit; text-decoration: none;">Research Design Resources</a></h4>
        <p>Practical tools for conducting rigorous development research, including design standards checklists and specialized papers like "Understanding Attributable Risk".</p>
        <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-secondary);">
          <strong>Related to:</strong> Research Ethics, Qualitative Research, MEL, Econometrics courses
        </div>
      </div>
      
      <div class="extras-card" data-extra-type="health">
        <h4><i class="fas fa-heartbeat"></i> <a href="https://github.com/Varnasr/ImpactMojo/tree/main/extras/public-health" target="_blank" style="color: inherit; text-decoration: none;">Public Health Materials</a></h4>
        <p>Complete course on public health fundamentals developed by the CDC, providing evidence-based frameworks for health program design and evaluation.</p>
        <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-secondary);">
          <strong>Related to:</strong> Public Health 101, Sexual & Reproductive Health Rights courses
        </div>
      </div>
      
      <div class="extras-card" data-extra-type="data">
        <h4><i class="fas fa-code"></i> <a href="https://github.com/Varnasr/ImpactMojo/tree/main/extras/data-analysis" target="_blank" style="color: inherit; text-decoration: none;">Data Analysis Toolkit</a></h4>
        <p>Comprehensive technical resources including analysis scripts, Excel templates, Python code samples, and qualitative data analysis tools.</p>
        <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-secondary);">
          <strong>Related to:</strong> Data Literacy, EDA, Bivariate Analysis, Multivariate Analysis, Econometrics courses
        </div>
      </div>
    </div>
    
    <div style="margin-top: 2rem; padding: 1.5rem; background: var(--light-bg); border-radius: var(--border-radius); border: 1px solid var(--border-color);">
      <h4><i class="fas fa-info-circle"></i> How to Use These Resources</h4>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
        <div>
          <strong>Educational Handouts:</strong> Click any HTML file to view directly in your browser. Use your browser's print function (Ctrl+P or Cmd+P) and select "Save as PDF" for clean, formatted workshop materials.
        </div>
        <div>
          <strong>Research & Analysis Tools:</strong> Download code files, Excel templates, Python scripts, and analysis resources directly for your research projects.
        </div>
        <div>
          <strong>Public Health Materials:</strong> Access comprehensive course materials and frameworks through the CDC-developed resources in the public health folder.
        </div>
      </div>
    </div>
  </div>

  <!-- Newsletter Signup -->
  <div class="newsletter">
    <h3>Stay Updated</h3>
    <p>Get notified when new courses are added to the ImpactMojo library</p>
    <form class="newsletter-form" action="https://formspree.io/f/xpwdvgzp" method="POST">
      <input type="email" name="email" placeholder="Enter your email" required>
      <button type="submit">Subscribe</button>
    </form>
    <p style="font-size: 0.85rem; opacity: 0.8; margin-top: 1rem;">No spam, just course updates. Unsubscribe anytime.</p>
  </div>

  <section class="author" aria-labelledby="author-heading">
    <img src="assets/images/varna-photo.jpg" alt="Portrait of Dr. Varna Sri Raman, founder of ImpactMojo" class="author-photo" loading="lazy">
    <div class="author-content">
      <h3 id="author-heading">About Dr. Varna Sri Raman</h3>
      <p>Dr. Varna Sri Raman is a development economist, educator, and social researcher with two decades of experience across education, livelihoods, gender, climate, health, and other public systems in South Asia. She is the founder and chief curator of OpenStacks â€” an open knowledge ecosystem for the development sector.</p>
      
      <a href="mailto:varna.sr@gmail.com?subject=Coaching%20Request&body=Hi%20Varna,%0D%0A%0D%0AI'm%20interested%20in%20learning%20more%20about%20your%20coaching%20services.%0D%0A%0D%0APlease%20let%20me%20know%20your%20availability%20and%20rates.%0D%0A%0D%0AThank%20you!" class="coaching-cta">
        <i class="fas fa-calendar-alt" aria-hidden="true"></i> Book Coaching Session
      </a>
      
      <div class="author-links">
        <a href="https://www.threads.net/@varnasriraman" target="_blank" rel="noopener" title="Follow Dr. Varna on Threads">
          <i class="fab fa-threads" aria-hidden="true"></i> Threads
        </a>
        <a href="https://www.linkedin.com/in/varna" target="_blank" rel="noopener" title="Connect with Dr. Varna on LinkedIn">
          <i class="fab fa-linkedin" aria-hidden="true"></i> LinkedIn
        </a>
        <a href="https://vfolio.notion.site/" target="_blank" rel="noopener" title="View Dr. Varna's Portfolio">
          <i class="fas fa-briefcase" aria-hidden="true"></i> Portfolio
        </a>
        <a href="https://github.com/Varnasr/ImpactMojo" target="_blank" rel="noopener" title="View ImpactMojo on GitHub">
          <i class="fab fa-github" aria-hidden="true"></i> GitHub
        </a>
      </div>
    </div>
  </section>

  <footer class="footer" role="contentinfo">
    <!-- Disclaimer Section -->
    <div style="background: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--border-radius); padding: 2rem; margin-bottom: 2rem; text-align: left;">
      <h4 style="color: var(--text-primary); margin: 0 0 1.5rem 0; font-size: 1.2rem; display: flex; align-items: center; gap: 0.5rem;">
        <i class="fas fa-info-circle" style="color: var(--secondary-color);"></i> 
        Important Disclaimer
      </h4>
      
      <div style="display: grid; gap: 1rem; font-size: 0.95rem; line-height: 1.6;">
        <p style="margin: 0; display: flex; align-items: flex-start; gap: 0.75rem;">
          <i class="fas fa-gift" style="color: var(--success-color); margin-top: 0.2rem; flex-shrink: 0;"></i>
          <span><strong>Free Resource:</strong> ImpactMojo is provided completely free of charge. While we make our best effort to keep content updated and error-free, we cannot guarantee accuracy or completeness of information.</span>
        </p>
        
        <p style="margin: 0; display: flex; align-items: flex-start; gap: 0.75rem;">
          <i class="fas fa-certificate" style="color: var(--warning-color); margin-top: 0.2rem; flex-shrink: 0;"></i>
          <span><strong>No Certification:</strong> These courses do not provide any formal certification, accreditation, or professional credentials.</span>
        </p>
        
        <p style="margin: 0; display: flex; align-items: flex-start; gap: 0.75rem;">
          <i class="fas fa-heart" style="color: var(--accent-color); margin-top: 0.2rem; flex-shrink: 0;"></i>
          <span><strong>Labour of Love:</strong> This project is made possible through the generous support of <a href="https://www.pinpointventures.in" target="_blank" style="color: var(--secondary-color); text-decoration: none; font-weight: 500;">Pinpoint Ventures</a>.</span>
        </p>
        
        <p style="margin: 0; display: flex; align-items: flex-start; gap: 0.75rem;">
          <i class="fas fa-hands-helping" style="color: var(--info-color); margin-top: 0.2rem; flex-shrink: 0;"></i>
          <span><strong>Support This Work:</strong> Contributions towards server and research costs are deeply appreciated via UPI at <code style="background: var(--light-bg); padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: 600; color: var(--secondary-color);">9871777110@mbk</code>. Supporters will be acknowledged on this page with gratitude.</span>
        </p>
      </div>
    </div>
    
    <!-- Standard Footer -->
    <p>Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>. Free to use with attribution, for non-commercial purposes.</p>
    <p>Contact: <a href="mailto:varna.sr@gmail.com">varna.sr@gmail.com</a> Â· <a href="https://www.impactmojo.in">www.impactmojo.in</a></p>
    <p>This repository is part of <a href="https://openstacks.dev">OpenStacks</a>, a collective initiative to build reusable learning tools for the social sector.</p>
    <p><a href="https://github.com/Varnasr/ImpactMojo">View on GitHub</a></p>
  </footer>
</main>

<!-- Enhanced Modals -->
<!-- Feedback Modal -->
<div id="feedbackModal" class="modal" role="dialog" aria-labelledby="feedback-title" aria-hidden="true">
  <div class="modal-content" role="document">
    <span class="close" onclick="closeModal('feedbackModal')" aria-label="Close feedback form">&times;</span>
    <h2 id="feedback-title">Share Your Feedback</h2>
    <form action="https://formspree.io/f/xpwdvgzp" method="POST">
      <div class="form-group">
        <label for="feedbackName">Your Name <span aria-label="required">*</span></label>
        <input type="text" id="feedbackName" name="name" required aria-required="true">
      </div>
      <div class="form-group">
        <label for="feedbackEmail">Your Email <span aria-label="required">*</span></label>
        <input type="email" id="feedbackEmail" name="email" required aria-required="true">
      </div>
      <div class="form-group">
        <label for="feedbackType">Feedback Type <span aria-label="required">*</span></label>
        <select id="feedbackType" name="type" required aria-required="true">
          <option value="">Select type...</option>
          <option value="general">General Feedback</option>
          <option value="bug">Bug Report</option>
          <option value="improvement">Improvement Suggestion</option>
          <option value="content">Content Quality</option>
        </select>
      </div>
      <div class="form-group">
        <label for="feedbackMessage">Your Feedback <span aria-label="required">*</span></label>
        <textarea id="feedbackMessage" name="message" placeholder="Please share your thoughts, suggestions, or report any issues..." required aria-required="true"></textarea>
      </div>
      <input type="hidden" name="_subject" value="ImpactMojo Feedback">
      <button type="submit" class="submit-btn">Send Feedback</button>
    </form>
  </div>
</div>

<!-- Course Suggestion Modal -->
<div id="suggestModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('suggestModal')">&times;</span>
    <h2>Suggest a Course</h2>
    <form action="https://formspree.io/f/xpwdvgzp" method="POST">
      <div class="form-group">
        <label for="suggestName">Your Name</label>
        <input type="text" id="suggestName" name="name" required>
      </div>
      <div class="form-group">
        <label for="suggestEmail">Your Email</label>
        <input type="email" id="suggestEmail" name="email" required>
      </div>
      <div class="form-group">
        <label for="suggestTopic">Course Topic</label>
        <input type="text" id="suggestTopic" name="topic" placeholder="e.g., Urban Planning, Digital Rights, etc." required>
      </div>
      <div class="form-group">
        <label for="suggestDescription">Course Description</label>
        <textarea id="suggestDescription" name="description" placeholder="Describe what this course should cover and why it would be valuable..." required></textarea>
      </div>
      <input type="hidden" name="_subject" value="ImpactMojo Course Suggestion">
      <button type="submit" class="submit-btn">Submit Suggestion</button>
    </form>
  </div>
</div>

<!-- Question Modal -->
<div id="questionModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('questionModal')">&times;</span>
    <h2>Ask a Question</h2>
    <form action="https://formspree.io/f/xpwdvgzp" method="POST">
      <div class="form-group">
        <label for="questionName">Your Name</label>
        <input type="text" id="questionName" name="name" required>
      </div>
      <div class="form-group">
        <label for="questionEmail">Your Email</label>
        <input type="email" id="questionEmail" name="email" required>
      </div>
      <div class="form-group">
        <label for="questionCategory">Question Category</label>
        <select id="questionCategory" name="category" required>
          <option value="">Select category...</option>
          <option value="course-content">Course Content</option>
          <option value="technical">Technical Issues</option>
          <option value="collaboration">Collaboration</option>
          <option value="general">General Inquiry</option>
        </select>
      </div>
      <div class="form-group">
        <label for="questionMessage">Your Question</label>
        <textarea id="questionMessage" name="message" placeholder="What would you like to know?" required></textarea>
      </div>
      <input type="hidden" name="_subject" value="ImpactMojo Question">
      <button type="submit" class="submit-btn">Send Question</button>
    </form>
  </div>
</div>

<!-- Course Comparison Modal -->
<div id="comparisonModal" class="modal">
  <div class="modal-content large">
    <span class="close" onclick="closeModal('comparisonModal')">&times;</span>
    <h2><i class="fas fa-balance-scale"></i> Course Comparison</h2>
    <div id="comparisonContent">
      <p>Select courses to compare by checking the boxes on course cards.</p>
    </div>
  </div>
</div>

<!-- Course Details Modal -->
<div id="courseDetailsModal" class="modal">
  <div class="modal-content large">
    <span class="close" onclick="closeModal('courseDetailsModal')">&times;</span>
    <div id="courseDetailsContent">
      <!-- Course details will be populated by JavaScript -->
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js" async></script>

<script>
// Complete course data with all 32 courses and enhanced tagging system
const courseData = [
  {
    id: 'decent-work',
    title: 'Decent Work for All 101',
    topic: 'economics',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-briefcase',
    description: 'Explores fair livelihoods, labour rights, gig work, and informality through an Indian lens, grounded in ILO\'s Decent Work agenda and social protection discourse.',
    url: 'https://101.www.impactmojo.in/DecentWork',
    prerequisites: ['Basic understanding of economics', 'Familiarity with Indian labor market'],
    outcomes: ['Understand ILO Decent Work framework', 'Analyze informal economy challenges', 'Design inclusive labor policies'],
    audience: 'Policy makers, development practitioners, labor rights advocates',
    learnerCount: 1456,
    rating: 4.5,
    featured: true,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'data-feminism',
    title: 'Data Feminism 101',
    topic: 'gender',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-venus',
    description: 'Challenges dominant data narratives using feminist theory. Covers intersectionality, visibility, and the politics of knowledge in South Asian development.',
    url: 'https://101.www.impactmojo.in/DataFeminism',
    prerequisites: ['Basic data literacy', 'Interest in gender studies'],
    outcomes: ['Apply feminist lens to data analysis', 'Identify bias in datasets', 'Design inclusive data collection'],
    audience: 'Data scientists, researchers, gender advocates',
    learnerCount: 2847,
    rating: 4.8,
    featured: true,
    relatedExtras: ['handouts', 'data']
  },
  {
    id: 'social-safety-nets',
    title: 'Social Safety Nets 101',
    topic: 'justice',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-shield-alt',
    description: 'Unpacks India\'s welfare architectureâ€”PDS, NREGA, pensionsâ€”through lifecycle needs and exclusion errors, with discussion on Aadhaar and last-mile barriers.',
    url: 'https://101.www.impactmojo.in/safetynets',
    prerequisites: ['Basic understanding of public policy', 'Familiarity with Indian governance'],
    outcomes: ['Analyze welfare program effectiveness', 'Identify exclusion patterns', 'Design inclusive safety nets'],
    audience: 'Policy analysts, social workers, development professionals',
    learnerCount: 2156,
    rating: 4.7,
    featured: true,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'climate-change',
    title: 'Climate Change 101',
    topic: 'climate',
    level: 'beginner',
    duration: 'medium',
    icon: 'fas fa-leaf',
    description: 'Covers IPCC basics, vulnerability, adaptation, and mitigation strategies. Rooted in Indian geography and the realities of climate justice and governance.',
    url: 'https://101.www.impactmojo.in/ClimateScience',
    prerequisites: ['Basic environmental awareness'],
    outcomes: ['Understand climate science fundamentals', 'Analyze vulnerability patterns', 'Design adaptation strategies'],
    audience: 'Environmental professionals, policy makers, students',
    learnerCount: 1234,
    rating: 4.4,
    relatedExtras: ['handouts']
  },
  {
    id: 'indian-constitution',
    title: 'Indian Constitution and Law 101',
    topic: 'justice',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-gavel',
    description: 'A visual guide to India\'s constitutional foundations, rights, directive principles, and the structure of its judiciary, with key legal cases and social justice themes.',
    url: 'https://101.www.impactmojo.in/Law&Cons',
    prerequisites: ['Basic understanding of Indian governance', 'Interest in legal studies'],
    outcomes: ['Understand constitutional framework', 'Analyze fundamental rights', 'Navigate legal processes'],
    audience: 'Law students, civil servants, activists, educators',
    learnerCount: 987,
    rating: 4.3,
    relatedExtras: ['handouts']
  },
  {
    id: 'development-economics',
    title: 'Development Economics 101',
    topic: 'economics',
    level: 'advanced',
    duration: 'long',
    icon: 'fas fa-chart-line',
    description: 'From growth and inequality to institutions and state capacity, this deck introduces core economic debates using Indian and South Asian policy experiences.',
    url: 'https://101.www.impactmojo.in/DevEcon',
    prerequisites: ['Intermediate economics knowledge', 'Statistics background'],
    outcomes: ['Apply development theories', 'Analyze growth patterns', 'Evaluate policy interventions'],
    audience: 'Economics students, policy analysts, development professionals',
    learnerCount: 1923,
    rating: 4.6,
    relatedExtras: ['handouts', 'data']
  },
  {
    id: 'digital-ethics',
    title: 'Digital Development Ethics 101',
    topic: 'media',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-shield-alt',
    description: 'Explores the ethics of digital tools in development, including surveillance, consent, platform governance, AI equity, and algorithmic injustice in the Global South.',
    url: 'https://101.www.impactmojo.in/DigitalEthics',
    prerequisites: ['Basic technology awareness', 'Interest in digital rights'],
    outcomes: ['Evaluate digital ethics frameworks', 'Design ethical tech interventions', 'Navigate privacy concerns'],
    audience: 'Technology professionals, development practitioners, digital rights advocates',
    learnerCount: 856,
    rating: 4.3,
    relatedExtras: ['handouts']
  },
  {
    id: 'multivariate-analysis',
    title: 'Multivariate Analysis 101',
    topic: 'data',
    level: 'advanced',
    duration: 'long',
    icon: 'fas fa-chart-bar',
    description: 'Introduces causal modeling, control variables, interaction terms, and statistical power for policy analysis, with real survey examples from India.',
    url: 'https://101.www.impactmojo.in/MultivariateA',
    prerequisites: ['Intermediate statistics', 'Experience with data analysis'],
    outcomes: ['Conduct multivariate analysis', 'Build causal models', 'Interpret complex statistical results'],
    audience: 'Data analysts, researchers, statisticians',
    learnerCount: 743,
    rating: 4.2,
    relatedExtras: ['data', 'handouts']
  },
  {
    id: 'bivariate-analysis',
    title: 'Bivariate Analysis 101',
    topic: 'data',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-chart-area',
    description: 'Covers cross-tabs, chi-square tests, means comparisons, and correlation for social researchers working on program outcomes or demographic trends.',
    url: 'https://101.www.impactmojo.in/bivariateA',
    prerequisites: ['Basic statistics', 'Data literacy fundamentals'],
    outcomes: ['Perform bivariate analysis', 'Interpret correlation results', 'Conduct significance tests'],
    audience: 'Social researchers, program managers, data analysts',
    learnerCount: 1245,
    rating: 4.4,
    relatedExtras: ['data', 'handouts']
  },
  {
    id: 'eda-survey-data',
    title: 'EDA for Household Survey Data 101',
    topic: 'data',
    level: 'beginner',
    duration: 'medium',
    icon: 'fas fa-search',
    description: 'Teaches univariate and distributional analysis, skewness, missingness, and data hygiene checks using real survey microdata.',
    url: 'https://101.www.impactmojo.in/HH-EDA',
    prerequisites: ['Basic spreadsheet skills', 'Interest in data analysis'],
    outcomes: ['Perform exploratory data analysis', 'Clean and validate datasets', 'Identify data quality issues'],
    audience: 'Researchers, program officers, data entry staff',
    learnerCount: 1567,
    rating: 4.6,
    relatedExtras: ['data', 'handouts']
  },
  {
    id: 'qualitative-research',
    title: 'Qualitative Research 101',
    topic: 'research',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-microscope',
    description: 'A complete guide to qualitative methodsâ€”IDIs, FGDs, ethnography, coding, consentâ€”with Indian case examples and sectoral relevance.',
    url: 'https://101.www.impactmojo.in/QualR',
    prerequisites: ['Basic research awareness', 'Interest in field methods'],
    outcomes: ['Design qualitative studies', 'Conduct interviews and focus groups', 'Analyze qualitative data'],
    audience: 'Researchers, social workers, anthropologists',
    learnerCount: 1389,
    rating: 4.5,
    relatedExtras: ['research', 'handouts']
  },
  {
    id: 'post-truth-politics',
    title: 'Post-Truth Politics 101',
    topic: 'media',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-exclamation-triangle',
    description: 'Examines misinformation, narrative warfare, political polarization, and trust erosion in India\'s public sphere and policy discourse.',
    url: 'https://101.www.impactmojo.in/post-truth-pol',
    prerequisites: ['Basic political awareness', 'Media literacy'],
    outcomes: ['Identify misinformation patterns', 'Analyze media narratives', 'Design counter-narrative strategies'],
    audience: 'Journalists, political scientists, communications professionals',
    learnerCount: 967,
    rating: 4.1,
    relatedExtras: ['handouts']
  },
  {
    id: 'data-literacy',
    title: 'Data Literacy 101',
    topic: 'data',
    level: 'beginner',
    duration: 'short',
    icon: 'fas fa-chart-pie',
    description: 'Empowers practitioners to read graphs, question indicators, spot misleading visuals, and use open datasets in everyday program work.',
    url: 'https://101.www.impactmojo.in/data-lit',
    prerequisites: ['None - beginner friendly'],
    outcomes: ['Read and interpret charts', 'Identify misleading statistics', 'Use open data sources'],
    audience: 'Development practitioners, program managers, advocates',
    learnerCount: 1734,
    rating: 4.9,
    relatedExtras: ['data', 'handouts']
  },
  {
    id: 'community-development',
    title: 'Community-Led Development 101',
    topic: 'development',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-users',
    description: 'Focuses on PLA tools, participatory planning, facilitation ethics, and the evolution of community-led models in India and globally.',
    url: 'https://101.www.impactmojo.in/community-dev',
    prerequisites: ['Community work experience', 'Basic facilitation skills'],
    outcomes: ['Design participatory processes', 'Facilitate community meetings', 'Build local capacity'],
    audience: 'Community workers, development practitioners, NGO staff',
    learnerCount: 1123,
    rating: 4.3,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'environmental-justice',
    title: 'Environmental Justice 101',
    topic: 'climate',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-balance-scale',
    description: 'Explores air, water, land, and environmental decision-making through equity and procedural justice lenses in the Indian regulatory context.',
    url: 'https://101.www.impactmojo.in/env-jus',
    prerequisites: ['Environmental awareness', 'Basic policy understanding'],
    outcomes: ['Apply environmental justice frameworks', 'Analyze pollution impacts', 'Advocate for equitable policies'],
    audience: 'Environmental lawyers, activists, policy makers',
    learnerCount: 789,
    rating: 4.2,
    relatedExtras: ['handouts']
  },
  {
    id: 'care-economy',
    title: 'Care Economy and Time Use 101',
    topic: 'gender',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-heart',
    description: 'Analyzes unpaid care work, time-use surveys, care infrastructure, and feminist economics, rooted in Indian labour statistics and policy debates.',
    url: 'https://101.www.impactmojo.in/careeconomy',
    prerequisites: ['Basic economics', 'Interest in gender issues'],
    outcomes: ['Measure care work contributions', 'Design care policies', 'Analyze time-use data'],
    audience: 'Gender economists, policy analysts, women\'s rights advocates',
    learnerCount: 934,
    rating: 4.4,
    relatedExtras: ['handouts', 'data']
  },
  {
    id: 'econometrics',
    title: 'Econometrics 101',
    topic: 'economics',
    level: 'advanced',
    duration: 'long',
    icon: 'fas fa-calculator',
    description: 'Covers regression, treatment effects, IVs, fixed effects, and more, using development datasets and evaluation logic with Indian examples.',
    url: 'https://101.www.impactmojo.in/econometrics',
    prerequisites: ['Advanced statistics', 'Economics background'],
    outcomes: ['Conduct econometric analysis', 'Evaluate program impacts', 'Use causal inference methods'],
    audience: 'Economists, policy researchers, data scientists',
    learnerCount: 612,
    rating: 4.1,
    relatedExtras: ['data', 'research']
  },
  {
    id: 'decolonizing-development',
    title: 'Decolonizing Development Practice 101',
    topic: 'justice',
    level: 'advanced',
    duration: 'long',
    icon: 'fas fa-fist-raised',
    description: 'Traces colonial legacies in development thinking and offers alternative epistemologies, Southern theories, and indigenous practice frames.',
    url: 'https://101.www.impactmojo.in/decolonD',
    prerequisites: ['Development studies background', 'Critical thinking skills'],
    outcomes: ['Critique colonial frameworks', 'Apply decolonial methods', 'Design culturally appropriate interventions'],
    audience: 'Development theorists, anthropologists, social justice advocates',
    learnerCount: 567,
    rating: 4.0,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'srhr',
    title: 'Sexual & Reproductive Health Rights 101',
    topic: 'health',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-heartbeat',
    description: 'Comprehensive overview of SRHR frameworks, policy landscape, and implementation challenges in South Asian contexts.',
    url: 'https://101.www.impactmojo.in/srhr',
    prerequisites: ['Public health awareness', 'Gender sensitivity'],
    outcomes: ['Apply SRHR frameworks', 'Design inclusive health programs', 'Navigate policy challenges'],
    audience: 'Health professionals, gender advocates, policy makers',
    learnerCount: 823,
    rating: 4.3,
    relatedExtras: ['health', 'handouts']
  },
  {
    id: 'marginalized-identities',
    title: 'Marginalized Identities 101',
    topic: 'identity',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-user-friends',
    description: 'Explores caste, tribe, gender, religion, disability, and intersectionality through rights, representation, and discrimination data in South Asia.',
    url: 'https://101.www.impactmojo.in/identities',
    prerequisites: ['Social awareness', 'Interest in human rights'],
    outcomes: ['Understand intersectionality', 'Analyze discrimination patterns', 'Design inclusive programs'],
    audience: 'Social workers, human rights advocates, policy analysts',
    learnerCount: 1056,
    rating: 4.5,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'poverty-inequality',
    title: 'Poverty and Inequality 101',
    topic: 'economics',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-chart-line',
    description: 'Explains income vs multidimensional poverty, inequality metrics, redistribution, and caste/class/gender patterns using Indian datasets.',
    url: 'https://101.www.impactmojo.in/pov&inq',
    prerequisites: ['Basic economics', 'Statistical literacy'],
    outcomes: ['Measure poverty and inequality', 'Analyze distributional patterns', 'Design redistributive policies'],
    audience: 'Development economists, policy analysts, researchers',
    learnerCount: 1432,
    rating: 4.6,
    relatedExtras: ['data', 'handouts']
  },
  {
    id: 'political-economy',
    title: 'Political Economy 101',
    topic: 'economics',
    level: 'advanced',
    duration: 'long',
    icon: 'fas fa-university',
    description: 'Explores incentives, institutions, and power in policymaking, featuring comparative case studies and Indian governance contexts.',
    url: 'https://101.www.impactmojo.in/polecon',
    prerequisites: ['Political science background', 'Economics knowledge'],
    outcomes: ['Analyze political institutions', 'Understand policy processes', 'Evaluate governance systems'],
    audience: 'Political economists, governance specialists, policy researchers',
    learnerCount: 698,
    rating: 4.2,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'visual-ethnography',
    title: 'Visual Ethnography and Storytelling 101',
    topic: 'media',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-camera',
    description: 'Introduces participatory photography, visual documentation ethics, field aesthetics, and representation frameworks for South Asian contexts.',
    url: 'https://101.www.impactmojo.in/VEthno',
    prerequisites: ['Basic photography skills', 'Research ethics awareness'],
    outcomes: ['Conduct visual research', 'Create ethical documentation', 'Design participatory projects'],
    audience: 'Anthropologists, journalists, documentary makers',
    learnerCount: 445,
    rating: 4.1,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'mel',
    title: 'Monitoring, Evaluation, and Learning (MEL) 101',
    topic: 'systems',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-cogs',
    description: 'Unpacks theories of change, indicator types, evaluation tools, adaptive MEL systems, and participatory learning practices.',
    url: 'https://101.www.impactmojo.in/MEAL',
    prerequisites: ['Program management experience', 'Logical thinking skills'],
    outcomes: ['Design MEL frameworks', 'Develop indicators', 'Conduct evaluations'],
    audience: 'Program managers, MEL specialists, development practitioners',
    learnerCount: 1267,
    rating: 4.4,
    relatedExtras: ['research', 'handouts']
  },
  {
    id: 'advocacy-communication',
    title: 'Advocacy and Public Communication 101',
    topic: 'media',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-bullhorn',
    description: 'Connects message framing, campaign design, evidence storytelling, and political communication with real Indian movement examples.',
    url: 'https://101.www.impactmojo.in/adv&comm',
    prerequisites: ['Communication skills', 'Basic campaign experience'],
    outcomes: ['Design advocacy campaigns', 'Frame compelling messages', 'Engage with media'],
    audience: 'Advocates, communications professionals, campaign managers',
    learnerCount: 887,
    rating: 4.3,
    relatedExtras: ['handouts']
  },
  {
    id: 'behavior-change',
    title: 'Behavior Change Communication and Program Design 101',
    topic: 'systems',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-comments',
    description: 'Focuses on behavior change theories, communication strategies, and program design for effective social change initiatives.',
    url: 'https://101.www.impactmojo.in/BCCP',
    prerequisites: ['Psychology basics', 'Program design experience'],
    outcomes: ['Apply behavior change theories', 'Design effective interventions', 'Measure behavior outcomes'],
    audience: 'Program designers, health communicators, social marketers',
    learnerCount: 723,
    rating: 4.2,
    relatedExtras: ['handouts', 'research']
  },
  {
    id: 'research-ethics',
    title: 'Social Research Ethics and Consent 101',
    topic: 'research',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-user-shield',
    description: 'Guides researchers through positionality, risk, harm, consent processes, and ethical dilemmas with real applied examples.',
    url: 'https://101.www.impactmojo.in/ResearchEthics',
    prerequisites: ['Research methodology basics', 'Ethical sensitivity'],
    outcomes: ['Navigate ethical challenges', 'Design consent processes', 'Protect research participants'],
    audience: 'Researchers, academics, field workers',
    learnerCount: 945,
    rating: 4.5,
    relatedExtras: ['research', 'handouts']
  },
  {
    id: 'womens-economic-empowerment',
    title: 'Women\'s Economic Empowerment (WEE) 101',
    topic: 'gender',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-female',
    description: 'Frames economic agency, control over resources, institutional barriers, and enabling ecosystems using Indian WEE program evidence.',
    url: 'https://101.www.impactmojo.in/WEE',
    prerequisites: ['Gender awareness', 'Economic concepts'],
    outcomes: ['Design WEE programs', 'Measure economic empowerment', 'Address systemic barriers'],
    audience: 'Gender practitioners, microfinance professionals, program managers',
    learnerCount: 1178,
    rating: 4.4,
    relatedExtras: ['handouts', 'data']
  },
  {
    id: 'gender-studies',
    title: 'Gender Studies 101',
    topic: 'gender',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-venus-mars',
    description: 'Surveys feminist theory, gender and sexuality, patriarchy, queer movements, and legal shifts across India and South Asia.',
    url: 'https://101.www.impactmojo.in/Gender',
    prerequisites: ['Social awareness', 'Open mindset'],
    outcomes: ['Understand gender theories', 'Analyze power structures', 'Design inclusive policies'],
    audience: 'Gender studies students, activists, policy makers',
    learnerCount: 1567,
    rating: 4.6,
    relatedExtras: ['handouts']
  },
  {
    id: 'livelihoods',
    title: 'Livelihoods 101',
    topic: 'livelihoods',
    level: 'intermediate',
    duration: 'medium',
    icon: 'fas fa-seedling',
    description: 'Explores rural and urban livelihood strategies, informal sector dynamics, and sustainable economic pathways in Indian contexts.',
    url: 'https://101.www.impactmojo.in/Livelihoods',
    prerequisites: ['Economic awareness', 'Rural/urban context understanding'],
    outcomes: ['Analyze livelihood systems', 'Design sustainable interventions', 'Support income generation'],
    audience: 'Livelihood specialists, rural development practitioners, microfinance professionals',
    learnerCount: 1289,
    rating: 4.3,
    relatedExtras: ['handouts']
  },
  {
    id: 'public-health',
    title: 'Public Health 101',
    topic: 'health',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-stethoscope',
    description: 'Covers primary health care, OneHealth, health systems, and social determinants with South Asian equity and delivery challenges.',
    url: 'https://101.www.impactmojo.in/ph',
    prerequisites: ['Basic health awareness', 'Systems thinking'],
    outcomes: ['Understand health systems', 'Apply public health principles', 'Design health interventions'],
    audience: 'Health professionals, public health students, policy makers',
    learnerCount: 1456,
    rating: 4.5,
    relatedExtras: ['health', 'handouts']
  },
  {
    id: 'education-pedagogy',
    title: 'Education and Pedagogy 101',
    topic: 'education',
    level: 'intermediate',
    duration: 'long',
    icon: 'fas fa-graduation-cap',
    description: 'Introduces learning theory, pedagogy, curriculum debates, and NEP 2020 themes for Indian education professionals.',
    url: 'https://101.www.impactmojo.in/edu',
    prerequisites: ['Teaching experience', 'Interest in education policy'],
    outcomes: ['Apply learning theories', 'Design effective curricula', 'Implement pedagogical innovations'],
    audience: 'Teachers, education administrators, curriculum designers',
    learnerCount: 1623,
    rating: 4.7,
    relatedExtras: ['handouts']
  }
];

// Extras mapping system
const extrasMapping = {
  handouts: {
    name: 'Educational Handouts',
    icon: 'fas fa-chalkboard-teacher',
    description: 'Workshop modules and teaching materials',
    url: 'https://github.com/Varnasr/ImpactMojo/tree/main/extras/handouts',
    relatedTopics: ['education', 'research', 'data', 'gender', 'economics', 'media', 'development']
  },
  research: {
    name: 'Research Design Resources',
    icon: 'fas fa-flask',
    description: 'Research methodology and design tools',
    url: 'https://github.com/Varnasr/ImpactMojo/tree/main/extras/research-design',
    relatedTopics: ['research', 'systems']
  },
  health: {
    name: 'Public Health Materials',
    icon: 'fas fa-heartbeat',
    description: 'CDC-developed health frameworks',
    url: 'https://github.com/Varnasr/ImpactMojo/tree/main/extras/public-health',
    relatedTopics: ['health']
  },
  data: {
    name: 'Data Analysis Toolkit',
    icon: 'fas fa-code',
    description: 'Scripts, templates, and analysis tools',
    url: 'https://github.com/Varnasr/ImpactMojo/tree/main/extras/data-analysis',
    relatedTopics: ['data', 'economics']
  }
};

// Global variables
let allCourses = [];
let displayedCourses = [];
let bookmarkedCourses = JSON.parse(localStorage.getItem('bookmarkedCourses') || '[]');
let courseRatings = JSON.parse(localStorage.getItem('courseRatings') || '{}');
let currentView = 'grid';
let recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed') || '[]');
let savedSearches = JSON.parse(localStorage.getItem('savedSearches') || '[]');
let selectedForComparison = [];
let searchTimeout;
let currentTopicFilter = 'all';

// Learning paths configuration
const learningPaths = {
  'data-analysis': {
    name: 'Data Analysis Track',
    courses: ['data-literacy', 'eda-survey-data', 'bivariate-analysis', 'multivariate-analysis'],
    description: 'Master data skills from basics to advanced analysis'
  },
  'gender-studies': {
    name: 'Gender Studies Pathway', 
    courses: ['gender-studies', 'data-feminism', 'care-economy', 'womens-economic-empowerment'],
    description: 'Comprehensive understanding of gender in development'
  },
  'policy-economics': {
    name: 'Policy & Economics Track',
    courses: ['development-economics', 'political-economy', 'poverty-inequality', 'social-safety-nets'],
    description: 'From basic economics to policy analysis'
  },
  'research-methods': {
    name: 'Research Methods Journey',
    courses: ['research-ethics', 'qualitative-research', 'econometrics', 'mel'],
    description: 'Complete research toolkit for development work'
  }
};

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  // Use the complete course data
  allCourses = courseData;
  
  initializePage();
  loadBookmarks();
  loadRecentlyViewed();
  loadSavedSearches();
  generateCourseCards();
  
  // Add search functionality with debouncing
  document.getElementById('searchInput').addEventListener('input', function() {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(filterDecks, 300);
  });
  
  // Apply theme from localStorage
  const savedTheme = localStorage.getItem("theme");
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const isDark = savedTheme === "dark" || (!savedTheme && prefersDark);
  if (isDark) {
    document.body.classList.add("dark");
    document.querySelector('.theme-toggle').textContent = "â˜€ï¸";
  }

  // Initialize lazy loading
  if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('loaded');
        }
      });
    });

    document.querySelectorAll('.lazy-load').forEach(img => {
      imageObserver.observe(img);
    });
  }
});

function initializePage() {
  updateCourseCount();
  displayPopularCourses();
}

function generateCourseCards() {
  const container = document.getElementById('courseContainer');
  container.innerHTML = '';
  
  allCourses.forEach(course => {
    const courseCard = createCourseCard(course);
    container.appendChild(courseCard);
  });
  
  displayedCourses = [...allCourses];
  updateCourseCount();
}

function createCourseCard(course) {
  const div = document.createElement('div');
  div.className = `course-card ${course.topic}${course.featured ? ' featured' : ''}`;
  div.setAttribute('data-topic', course.topic);
  div.setAttribute('data-level', course.level);
  div.setAttribute('data-duration', course.duration);
  div.setAttribute('data-course-id', course.id);
  
  const rating = courseRatings[course.id] || course.rating || 0;
  const isBookmarked = bookmarkedCourses.includes(course.title);
  const isSelected = selectedForComparison.includes(course.id);
  
  // Generate related extras
  const relatedExtras = course.relatedExtras || [];
  const extrasHtml = relatedExtras.length > 0 ? `
    <div class="course-extras">
      <h5><i class="fas fa-plus"></i> Related Resources</h5>
      <div class="extras-list">
        ${relatedExtras.map(extraKey => {
          const extra = extrasMapping[extraKey];
          return extra ? `<a href="${extra.url}" target="_blank" class="extras-item">
            <i class="${extra.icon}"></i> ${extra.name}
          </a>` : '';
        }).join('')}
      </div>
    </div>
  ` : '';
  
  div.innerHTML = `
    <div class="course-header">
      <div class="course-icon ${course.topic}">
        <i class="${course.icon}"></i>
      </div>
      <div class="course-title">
        <h3>
          <a href="${course.url}" target="_blank" onclick="addToRecentlyViewed('${course.title}', '${course.url}')">
            ${course.title}
          </a>
        </h3>
      </div>
    </div>
    
    <div class="course-meta">
      <span class="meta-tag topic-${course.topic}">${capitalizeFirst(course.topic)}</span>
      <span class="meta-tag">${getDurationText(course.duration)}</span>
      <span class="meta-tag">${capitalizeFirst(course.level)}</span>
    </div>
    
    <div class="course-description">
      ${course.description}
    </div>
    
    <div class="course-stats">
      <div class="course-stat">
        <i class="fas fa-star"></i>
        <span>${rating.toFixed(1)} (${getReviewCount(course.id)} reviews)</span>
      </div>
      ${course.learnerCount ? `
        <div class="course-stat">
          <i class="fas fa-user-graduate"></i>
          <span>${course.learnerCount} learners</span>
        </div>
      ` : ''}
    </div>
    
    <div class="course-rating">
      <div class="rating-display">
        <div class="stars">
          ${generateStarRating(rating, course.id)}
        </div>
        <span class="rating-count">${rating.toFixed(1)}</span>
      </div>
    </div>
    
    <div class="course-details" id="details-${course.id}">
      <div class="course-prerequisites">
        <h5><i class="fas fa-list-check"></i> Prerequisites</h5>
        <ul>
          ${course.prerequisites.map(prereq => `<li>${prereq}</li>`).join('')}
        </ul>
      </div>
      
      <div class="course-outcomes">
        <h5><i class="fas fa-bullseye"></i> Learning Outcomes</h5>
        <ul>
          ${course.outcomes.map(outcome => `<li>${outcome}</li>`).join('')}
        </ul>
      </div>
      
      <div class="course-audience">
        <h5><i class="fas fa-users"></i> Target Audience</h5>
        <p>${course.audience}</p>
      </div>
    </div>
    
    ${extrasHtml}
    
    <div class="course-recommendations">
      <h5><i class="fas fa-lightbulb"></i> You might also like</h5>
      <div class="recommendations-list" id="recommendations-${course.id}">
        ${generateRecommendations(course).map(rec => 
          `<a href="#" class="recommendation-item" onclick="scrollToCourse('${rec.id}')">${rec.title}</a>`
        ).join('')}
      </div>
    </div>
    
    <div class="course-actions">
      <div class="course-actions-left">
        <a href="${course.url}" target="_blank" class="launch-btn" onclick="addToRecentlyViewed('${course.title}', '${course.url}')">
          <i class="fas fa-external-link-alt"></i> Launch Course
        </a>
        <button class="secondary-btn" onclick="toggleCourseDetails('${course.id}')">
          <i class="fas fa-info-circle"></i> Details
        </button>
      </div>
      
      <div style="display: flex; gap: 0.5rem; align-items: center;">
        <input type="checkbox" class="compare-checkbox" id="compare-${course.id}" 
               onchange="toggleComparison('${course.id}')" ${isSelected ? 'checked' : ''}>
        <label for="compare-${course.id}" style="font-size: 0.8rem;">Compare</label>
        
        <button class="bookmark-btn ${isBookmarked ? 'bookmarked' : ''}" onclick="toggleBookmark(this, '${course.title}')">
          <i class="${isBookmarked ? 'fas' : 'far'} fa-bookmark"></i>
        </button>
      </div>
    </div>
  `;
  
  return div;
}

// Enhanced topic filtering function
function filterByTopic(topic) {
  // Update active topic filter button
  document.querySelectorAll('.topic-filter-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  
  if (topic !== 'all') {
    document.querySelector(`[data-topic="${topic}"]`).classList.add('active');
  } else {
    document.querySelector('[data-topic="all"]').classList.add('active');
  }
  
  currentTopicFilter = topic;
  filterDecks();
}

function generateStarRating(rating, courseId) {
  let stars = '';
  for (let i = 1; i <= 5; i++) {
    const isActive = i <= Math.round(rating);
    stars += `<i class="fas fa-star star ${isActive ? 'active' : ''}" onclick="rateCourse('${courseId}', ${i})"></i>`;
  }
  return stars;
}

function generateRecommendations(course) {
  // Simple recommendation logic based on topic similarity
  return allCourses
    .filter(c => c.id !== course.id && (c.topic === course.topic || c.level === course.level))
    .slice(0, 3);
}

function getReviewCount(courseId) {
  // Simulate review counts
  const baseCounts = { 'data-feminism': 284, 'social-safety-nets': 156, 'decent-work': 89 };
  return baseCounts[courseId] || Math.floor(Math.random() * 50) + 10;
}

function getDurationText(duration) {
  const durations = {
    'short': '1-2 hours',
    'medium': '3-4 hours', 
    'long': '4+ hours'
  };
  return durations[duration] || duration;
}

function capitalizeFirst(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

// Theme toggle function
function toggleTheme() {
  document.body.classList.toggle("dark");
  const icon = document.querySelector('.theme-toggle');
  const isDark = document.body.classList.contains("dark");
  icon.textContent = isDark ? "â˜€ï¸" : "ðŸŒ™";
  localStorage.setItem("theme", isDark ? "dark" : "light");
}

// Enhanced search and filtering
function filterDecks() {
  const searchTerm = document.getElementById('searchInput').value.toLowerCase();
  const levelFilter = document.getElementById('levelFilter').value;
  const durationFilter = document.getElementById('durationFilter').value;
  
  let visibleCount = 0;
  
  allCourses.forEach(course => {
    const courseElement = document.querySelector(`[data-course-id="${course.id}"]`);
    if (!courseElement) return;
    
    const title = course.title.toLowerCase();
    const description = course.description.toLowerCase();
    const topic = course.topic;
    const level = course.level;
    const duration = course.duration;
    
    // Advanced search logic
    const matchesSearch = !searchTerm || 
      title.includes(searchTerm) || 
      description.includes(searchTerm) ||
      checkAdvancedSearch(searchTerm, course);
    
    // Filter logic
    const matchesTopic = currentTopicFilter === 'all' || topic === currentTopicFilter;
    const matchesLevel = levelFilter === 'all' || level === levelFilter;
    const matchesDuration = durationFilter === 'all' || duration === durationFilter;
    
    if (matchesSearch && matchesTopic && matchesLevel && matchesDuration) {
      courseElement.style.display = 'block';
      courseElement.classList.add('fade-in');
      visibleCount++;
    } else {
      courseElement.style.display = 'none';
      courseElement.classList.remove('fade-in');
    }
  });
  
  // Update UI
  const noResults = document.getElementById('noResults');
  if (visibleCount === 0) {
    noResults.classList.remove('hidden');
  } else {
    noResults.classList.add('hidden');
  }
  
  document.getElementById('visibleCount').textContent = visibleCount;
}

function checkAdvancedSearch(searchTerm, course) {
  // Handle boolean operators
  if (searchTerm.includes(' AND ')) {
    const terms = searchTerm.split(' AND ');
    return terms.every(term => 
      course.title.toLowerCase().includes(term.trim()) || 
      course.description.toLowerCase().includes(term.trim())
    );
  }
  
  if (searchTerm.includes(' OR ')) {
    const terms = searchTerm.split(' OR ');
    return terms.some(term => 
      course.title.toLowerCase().includes(term.trim()) || 
      course.description.toLowerCase().includes(term.trim())
    );
  }
  
  if (searchTerm.startsWith('NOT ')) {
    const term = searchTerm.substring(4).trim();
    return !(course.title.toLowerCase().includes(term) || 
             course.description.toLowerCase().includes(term));
  }
  
  // Handle exact phrases
  if (searchTerm.includes('"')) {
    const phrase = searchTerm.replace(/"/g, '');
    return course.title.toLowerCase().includes(phrase) || 
           course.description.toLowerCase().includes(phrase);
  }
  
  return false;
}

// Advanced search functions
function toggleAdvancedSearch() {
  const advancedSearch = document.getElementById('advancedSearch');
  advancedSearch.classList.toggle('active');
}

function addOperator(operator) {
  const searchInput = document.getElementById('searchInput');
  const currentValue = searchInput.value;
  const cursorPos = searchInput.selectionStart;
  
  let newValue;
  if (operator === '""') {
    newValue = currentValue.slice(0, cursorPos) + '""' + currentValue.slice(cursorPos);
    searchInput.setSelectionRange(cursorPos + 1, cursorPos + 1);
  } else {
    newValue = currentValue.slice(0, cursorPos) + ` ${operator} ` + currentValue.slice(cursorPos);
    searchInput.setSelectionRange(cursorPos + operator.length + 2, cursorPos + operator.length + 2);
  }
  
  searchInput.value = newValue;
  searchInput.focus();
  filterDecks();
}

function saveCurrentSearch() {
  const searchTerm = document.getElementById('searchInput').value.trim();
  if (!searchTerm) return;
  
  const searchName = prompt('Name this search:') || `Search ${savedSearches.length + 1}`;
  const search = {
    name: searchName,
    query: searchTerm,
    filters: {
      topic: currentTopicFilter,
      level: document.getElementById('levelFilter').value,
      duration: document.getElementById('durationFilter').value
    }
  };
  
  savedSearches.push(search);
  localStorage.setItem('savedSearches', JSON.stringify(savedSearches));
  loadSavedSearches();
}

function loadSavedSearches() {
  const container = document.getElementById('savedSearches');
  container.innerHTML = savedSearches.map(search => 
    `<div class="saved-search" onclick="applySavedSearch('${search.name}')">
      ${search.name}
      <i class="fas fa-times" onclick="event.stopPropagation(); deleteSavedSearch('${search.name}')"></i>
    </div>`
  ).join('');
}

function applySavedSearch(searchName) {
  const search = savedSearches.find(s => s.name === searchName);
  if (!search) return;
  
  document.getElementById('searchInput').value = search.query;
  currentTopicFilter = search.filters.topic;
  document.getElementById('levelFilter').value = search.filters.level;
  document.getElementById('durationFilter').value = search.filters.duration;
  
  // Update topic filter buttons
  filterByTopic(search.filters.topic);
}

function deleteSavedSearch(searchName) {
  savedSearches = savedSearches.filter(s => s.name !== searchName);
  localStorage.setItem('savedSearches', JSON.stringify(savedSearches));
  loadSavedSearches();
}

// Learning paths
function applyLearningPath(pathId) {
  const path = learningPaths[pathId];
  if (!path) return;
  
  // Show courses in this learning path
  allCourses.forEach(course => {
    const courseElement = document.querySelector(`[data-course-id="${course.id}"]`);
    if (!courseElement) return;
    
    if (path.courses.includes(course.id)) {
      courseElement.style.display = 'block';
      courseElement.classList.add('fade-in');
    } else {
      courseElement.style.display = 'none';
    }
  });
  
  // Update search input to show path name
  document.getElementById('searchInput').value = `Learning Path: ${path.name}`;
  
  // Update count
  document.getElementById('visibleCount').textContent = path.courses.length;
  
  // Scroll to courses
  document.getElementById('courseContainer').scrollIntoView({ behavior: 'smooth' });
}

// Course comparison
function toggleComparison(courseId) {
  const index = selectedForComparison.indexOf(courseId);
  if (index > -1) {
    selectedForComparison.splice(index, 1);
  } else {
    if (selectedForComparison.length >= 3) {
      alert('You can compare up to 3 courses at a time.');
      return;
    }
    selectedForComparison.push(courseId);
  }
  
  updateComparisonUI();
}

function updateComparisonUI() {
  const compareBtn = document.getElementById('compareBtn');
  const compareFab = document.querySelector('.fab-btn.compare');
  const count = selectedForComparison.length;
  
  document.getElementById('compareCount').textContent = count;
  
  if (count > 0) {
    compareBtn.classList.add('active');
    compareBtn.style.display = 'block';
    if (compareFab) compareFab.style.display = 'flex';
  } else {
    compareBtn.classList.remove('active');
    compareBtn.style.display = 'none';
    if (compareFab) compareFab.style.display = 'none';
  }
}

function generateComparison() {
  if (selectedForComparison.length === 0) return '';
  
  const coursesToCompare = selectedForComparison.map(id => 
    allCourses.find(course => course.id === id)
  ).filter(Boolean);
  
  let html = `
    <table class="comparison-table">
      <thead>
        <tr>
          <th>Aspect</th>
          ${coursesToCompare.map(course => `<th>${course.title}</th>`).join('')}
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Topic</strong></td>
          ${coursesToCompare.map(course => `<td><span class="meta-tag topic-${course.topic}">${capitalizeFirst(course.topic)}</span></td>`).join('')}
        </tr>
        <tr>
          <td><strong>Level</strong></td>
          ${coursesToCompare.map(course => `<td>${capitalizeFirst(course.level)}</td>`).join('')}
        </tr>
        <tr>
          <td><strong>Duration</strong></td>
          ${coursesToCompare.map(course => `<td>${getDurationText(course.duration)}</td>`).join('')}
        </tr>
        <tr>
          <td><strong>Rating</strong></td>
          ${coursesToCompare.map(course => `<td>${(courseRatings[course.id] || course.rating || 0).toFixed(1)}â˜…</td>`).join('')}
        </tr>
        <tr>
          <td><strong>Learners</strong></td>
          ${coursesToCompare.map(course => `<td>${course.learnerCount || 0}</td>`).join('')}
        </tr>
        <tr>
          <td><strong>Related Extras</strong></td>
          ${coursesToCompare.map(course => `<td>${(course.relatedExtras || []).map(extra => extrasMapping[extra]?.name || extra).join(', ') || 'None'}</td>`).join('')}
        </tr>
        <tr>
          <td><strong>Prerequisites</strong></td>
          ${coursesToCompare.map(course => `<td><ul style="margin:0;padding-left:1rem;">${course.prerequisites.map(p => `<li>${p}</li>`).join('')}</ul></td>`).join('')}
        </tr>
        <tr>
          <td><strong>Target Audience</strong></td>
          ${coursesToCompare.map(course => `<td>${course.audience}</td>`).join('')}
        </tr>
      </tbody>
    </table>
    
    <div style="margin-top: 2rem; text-align: center;">
      <button class="secondary-btn" onclick="clearComparison()">
        <i class="fas fa-times"></i> Clear Comparison
      </button>
    </div>
  `;
  
  return html;
}

function clearComparison() {
  selectedForComparison = [];
  document.querySelectorAll('.compare-checkbox').forEach(checkbox => {
    checkbox.checked = false;
  });
  updateComparisonUI();
  closeModal('comparisonModal');
}

// Course details and ratings
function toggleCourseDetails(courseId) {
  const details = document.getElementById(`details-${courseId}`);
  details.classList.toggle('active');
}

function rateCourse(courseId, rating) {
  courseRatings[courseId] = rating;
  localStorage.setItem('courseRatings', JSON.stringify(courseRatings));
  
  // Update display
  const courseCard = document.querySelector(`[data-course-id="${courseId}"]`);
  const ratingDisplay = courseCard.querySelector('.rating-count');
  if (ratingDisplay) {
    ratingDisplay.textContent = rating.toFixed(1);
  }
  
  // Update stars
  const stars = courseCard.querySelectorAll('.star');
  stars.forEach((star, index) => {
    if (index < rating) {
      star.classList.add('active');
    } else {
      star.classList.remove('active');
    }
  });
  
  alert(`Thank you for rating this course ${rating} stars!`);
}

function scrollToCourse(courseId) {
  const courseElement = document.querySelector(`[data-course-id="${courseId}"]`);
  if (courseElement) {
    courseElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
    courseElement.style.border = '2px solid var(--accent-color)';
    setTimeout(() => {
      courseElement.style.border = '1px solid var(--border-color)';
    }, 2000);
  }
}

// Popular courses display
function displayPopularCourses() {
  // This would typically come from analytics, but for demo we'll use static data
  const popularCoursesData = [
    { title: 'Data Feminism 101', learners: 2847, rating: 4.8 },
    { title: 'Social Safety Nets 101', learners: 2156, rating: 4.7 },
    { title: 'Development Economics 101', learners: 1923, rating: 4.6 },
    { title: 'Data Literacy 101', learners: 1734, rating: 4.9 }
  ];
  
  // The popular courses section is already rendered in HTML
  // This function could update it dynamically if needed
}

// View toggle and utility functions
function clearAllFilters() {
  document.getElementById('searchInput').value = '';
  currentTopicFilter = 'all';
  document.getElementById('levelFilter').value = 'all';
  document.getElementById('durationFilter').value = 'all';
  
  // Reset topic filter buttons
  document.querySelectorAll('.topic-filter-btn').forEach(btn => {
    btn.classList.remove('active');
  });
  document.querySelector('[data-topic="all"]').classList.add('active');
  
  filterDecks();
}

function toggleView(view) {
  currentView = view;
  const container = document.getElementById('courseContainer');
  const buttons = document.querySelectorAll('.view-btn');
  
  buttons.forEach(btn => {
    btn.classList.remove('active');
    btn.setAttribute('aria-pressed', 'false');
  });
  
  event.target.classList.add('active');
  event.target.setAttribute('aria-pressed', 'true');
  
  if (view === 'grid') {
    container.className = 'courses-grid';
  } else {
    container.className = 'courses-list';
  }
}

function toggleBookmark(button, courseTitle) {
  const icon = button.querySelector('i');
  
  if (bookmarkedCourses.includes(courseTitle)) {
    bookmarkedCourses = bookmarkedCourses.filter(title => title !== courseTitle);
    button.classList.remove('bookmarked');
    icon.className = 'far fa-bookmark';
  } else {
    bookmarkedCourses.push(courseTitle);
    button.classList.add('bookmarked');
    icon.className = 'fas fa-bookmark';
  }
  
  localStorage.setItem('bookmarkedCourses', JSON.stringify(bookmarkedCourses));
}

function loadBookmarks() {
  // Bookmarks are loaded when course cards are generated
}

function updateCourseCount() {
  const totalCount = allCourses.length;
  document.getElementById('totalCount').textContent = totalCount;
  document.getElementById('visibleCount').textContent = totalCount;
}

function addToRecentlyViewed(courseTitle, courseUrl) {
  // Remove if already exists
  recentlyViewed = recentlyViewed.filter(course => course.title !== courseTitle);
  
  // Add to beginning
  recentlyViewed.unshift({
    title: courseTitle,
    url: courseUrl,
    timestamp: Date.now()
  });
  
  // Keep only last 5
  recentlyViewed = recentlyViewed.slice(0, 5);
  
  localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));
  loadRecentlyViewed();
}

function loadRecentlyViewed() {
  const container = document.getElementById('recentlyViewed');
  const coursesContainer = document.getElementById('recentCourses');
  
  if (recentlyViewed.length > 0) {
    container.style.display = 'block';
    coursesContainer.innerHTML = recentlyViewed.map(course => 
      `<a href="${course.url}" class="recent-course" target="_blank">${course.title}</a>`
    ).join('');
  } else {
    container.style.display = 'none';
  }
}

// Modal functions with accessibility improvements
let lastFocusedElement = null;

function openModal(modalId) {
  lastFocusedElement = document.activeElement;
  
  const modal = document.getElementById(modalId);
  modal.style.display = 'block';
  modal.setAttribute('aria-hidden', 'false');
  document.body.style.overflow = 'hidden';
  
  // Special handling for comparison modal
  if (modalId === 'comparisonModal') {
    const content = document.getElementById('comparisonContent');
    if (selectedForComparison.length > 0) {
      content.innerHTML = generateComparison();
    } else {
      content.innerHTML = '<p>Select courses to compare by checking the boxes on course cards.</p>';
    }
  }
  
  // Focus management
  setTimeout(() => {
    const firstInput = modal.querySelector('input, textarea, select, button');
    if (firstInput) {
      firstInput.focus();
    }
  }, 100);
  
  modal.addEventListener('keydown', handleModalKeydown);
}

function closeModal(modalId) {
  const modal = document.getElementById(modalId);
  modal.style.display = 'none';
  modal.setAttribute('aria-hidden', 'true');
  document.body.style.overflow = 'auto';
  
  if (lastFocusedElement) {
    lastFocusedElement.focus();
    lastFocusedElement = null;
  }
  
  modal.removeEventListener('keydown', handleModalKeydown);
}

function handleModalKeydown(event) {
  if (event.key === 'Escape') {
    const modalId = event.currentTarget.id;
    closeModal(modalId);
  }
}

// Close modal when clicking outside
window.onclick = function(event) {
  if (event.target.classList.contains('modal')) {
    const modalId = event.target.id;
    closeModal(modalId);
  }
}

// Handle form submissions
document.addEventListener('submit', function(e) {
  if (e.target.tagName === 'FORM') {
    const submitBtn = e.target.querySelector('.submit-btn');
    if (submitBtn) {
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Sending...';
      submitBtn.disabled = true;
      
      setTimeout(() => {
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
        // Could show success message here
      }, 3000);
    }
  }
});

// Performance optimization - lazy loading for course cards
function lazyLoadCourses() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const courseCard = entry.target;
        courseCard.classList.add('loaded');
        observer.unobserve(courseCard);
      }
    });
  });

  document.querySelectorAll('.course-card').forEach(card => {
    observer.observe(card);
  });
}

// Initialize lazy loading after DOM is ready
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(lazyLoadCourses, 100);
});

// Keyboard shortcuts
document.addEventListener('keydown', function(e) {
  // Ctrl+K or Cmd+K to focus search
  if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
    e.preventDefault();
    document.getElementById('searchInput').focus();
  }
  
  // Escape to clear search
  if (e.key === 'Escape' && document.activeElement === document.getElementById('searchInput')) {
    document.getElementById('searchInput').value = '';
    filterDecks();
  }
});

// Analytics tracking (simplified)
function trackEvent(action, course) {
  // In a real implementation, this would send data to analytics service
  console.log(`Event: ${action}`, course);
}

// Add event tracking to course interactions
document.addEventListener('click', function(e) {
  if (e.target.classList.contains('launch-btn')) {
    const courseCard = e.target.closest('.course-card');
    const courseId = courseCard.getAttribute('data-course-id');
    trackEvent('course_launched', courseId);
  }
});

</script>

</body>
</html>